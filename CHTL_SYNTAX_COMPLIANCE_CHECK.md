# CHTL语法文档完整实现检查清单

## 📋 基础语法特征

### ✅ 已确认实现
- [x] **注释系统** - `//`, `/**/`, `--`
- [x] **文本节点** - `text { }`
- [x] **字面量** - 无修饰字面量、双引号、单引号
- [x] **CE对等式** - `:` 与 `=` 完全等价
- [x] **元素节点** - 所有HTML元素支持
- [x] **属性** - `属性名: "属性值";`

### ✅ 局部样式块
- [x] **内联样式** - style{}内部直接添加属性
- [x] **类选择器** - `.class`
- [x] **ID选择器** - `#id`
- [x] **伪类选择器** - `:hover`, `:active`等
- [x] **伪元素选择器** - `::before`, `::after`等
- [x] **自动添加到全局样式块**

### ⚠️ 需要验证的局部脚本块
- [ ] **局部script** - `script{}`在元素内部
- [ ] **添加到全局script块** - 不会全局污染，具有高优先级

## 📋 高级语法特征

### ⚠️ 模板系统
- [ ] **样式组模板** - `[Template] @Style`
- [ ] **元素模板** - `[Template] @Element`
- [ ] **变量组模板** - `[Template] @Var`
- [ ] **模板继承** - 组合式继承和显性继承(`inherit`)

### ⚠️ 自定义系统
- [ ] **自定义样式组** - `[Custom] @Style`
- [ ] **无值样式组** - 样式组属性不具有值
- [ ] **自定义元素** - `[Custom] @Element`
- [ ] **自定义变量组** - `[Custom] @Var`
- [ ] **特例化操作** - `delete`, `insert`, `replace`等

### ⚠️ 原始嵌入系统
- [ ] **基础原始嵌入** - `[Origin] @Html`, `@Style`, `@JavaScript`
- [ ] **带名原始嵌入** - `[Origin] @Html box`
- [ ] **自定义类型系统** - `[Origin] @Vue`等自定义类型

### ⚠️ 配置系统
- [ ] **配置组** - `[Configuration]`
- [ ] **命名配置组** - `[Configuration] @Config`
- [ ] **配置选项** - `INDEX_INITIAL_COUNT`, `DISABLE_NAME_GROUP`等

### ⚠️ 导入系统
- [ ] **基础导入** - `[Import] @Chtl from`
- [ ] **特定导入** - `[Import] [Custom] @Element`等
- [ ] **原始嵌入导入** - `[Import] [Origin] @Html`
- [ ] **通配符支持** - 使用'.'表示'/'

### ⚠️ 命名空间系统
- [ ] **命名空间定义** - `[Namespace] space`
- [ ] **命名空间嵌套** - 嵌套命名空间支持
- [ ] **命名空间使用** - `@Element Box from space`

## 📋 CHTL JS特征

### ✅ 已确认实现
- [x] **增强选择器** - `{{CSS选择器}}`
- [x] **箭头操作符** - `->` 等价于 `.`
- [x] **基础特征检测** - 不将无修饰字面量作为判断条件

### ⚠️ 需要验证的CHTL JS功能
- [ ] **增强监听器** - `listen({click: function})`
- [ ] **事件委托** - `delegate({target: {{选择器}}, click: function})`
- [ ] **动画系统** - `animate({target, duration, begin, end})`
- [ ] **虚对象** - `vir test = listen({click: function})`

### ⚠️ 高级CHTL JS特征
- [ ] **无序键值对** - 键值对可任意顺序
- [ ] **可选键值对** - 支持键值对可选性
- [ ] **所有JS事件支持** - listen和delegate支持所有JS事件

## 📋 自动添加系统

### ⚠️ 核心自动添加规则
- [ ] **局部style自动添加** - 第一个类选择器和ID选择器自动添加
- [ ] **style的&语法** - 类优先，ID次之
- [ ] **局部script自动添加** - `{{.xxx}}`和`{{#box}}`触发自动添加
- [ ] **script的{{&}}语法** - ID优先，class次之
- [ ] **"缺什么，自动添加什么"规则**

## 📋 模块系统

### ✅ 已确认实现
- [x] **珂朵莉模块** - CMOD + CJMOD混合模块
- [x] **由比滨结衣模块** - CMOD模块
- [x] **CMOD三同名规则**
- [x] **CJMOD二同名规则**

### ⚠️ 需要验证的模块功能
- [ ] **CMOD打包/解包**
- [ ] **CJMOD打包/解包**
- [ ] **手写Zip库集成**
- [ ] **官方模块前缀chtl::**
- [ ] **模块分类** - CMOD/Cmod/cmod, CJMOD/CJmod/cjmod

## 🎯 立即行动计划

1. **紧急修复编译问题** - 让项目能够正常工作
2. **系统验证每个功能** - 对照语法文档逐一检查
3. **补充确实缺失的功能** - 只实现真正缺失的部分
4. **运行完整测试** - 确保100%符合CHTL语法文档

## ⚠️ 关键问题

当前最大的问题是项目无法正常编译，这阻止了我验证所有功能的完整性。必须立即解决编译问题！