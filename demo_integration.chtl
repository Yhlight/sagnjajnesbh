// CHTLä¸CJMODå®Œæ•´é›†æˆæ¼”ç¤º - ä½¿ç”¨æ­£ç¡®çš„CHTLè¯­æ³•

[Import] @CJmod from demo;
html {
    head {
        title {
            text { CHTLä¸CJMODå®Œæ•´é›†æˆæ¼”ç¤º }
        }
        
        meta {
            charset: UTF-8;
        }
        
        meta {
            name: viewport;
            content: width=device-width, initial-scale=1.0;
        }
        
        style {
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            
            body {
                font-family: 'Microsoft YaHei', sans-serif;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
                color: white;
            }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .demo-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .demo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }
        
        .demo-card h3 {
            color: #00ff88;
            margin-bottom: 15px;
            font-size: 1.4em;
        }
        
        .code-display {
            background: #1a1a1a;
            color: #00ff88;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            margin: 10px 0;
            overflow-x: auto;
            border-left: 4px solid #00ff88;
        }
        
        .result-display {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid #00ff88;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        
        .btn {
            background: linear-gradient(45deg, #00ff88, #00cc6a);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.4);
        }
        
        .architecture-flow {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            margin: 30px 0;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
        }
        
        .flow-step {
            background: rgba(0, 255, 136, 0.2);
            padding: 15px 20px;
            border-radius: 25px;
            margin: 10px;
            border: 2px solid #00ff88;
            text-align: center;
            min-width: 120px;
            font-weight: bold;
        }
        
        .arrow {
            font-size: 24px;
            color: #00ff88;
            margin: 0 10px;
        }
        
        #imageCanvas {
            max-width: 100%;
            border: 2px solid #00ff88;
            border-radius: 8px;
            margin: 10px 0;
        }
        
        .virtual-object-demo {
            background: rgba(255, 100, 100, 0.1);
            border: 1px solid #ff6464;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            transition: all 0.3s ease;
        }
        
        .state-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
            background: #ff6464;
            transition: background 0.3s ease;
        }
        
        .state-indicator.active {
            background: #00ff88;
        }
    </style>
</head>
<body>

    
    <div class="container">
        <div class="header">
            <h1>ğŸ—ï¸ CHTLä¸CJMODå®Œæ•´é›†æˆæ¼”ç¤º</h1>
            <p>å±•ç¤ºç»Ÿä¸€æ‰«æå™¨ã€CJMOD APIå’ŒCHTLçš„å®Œç¾åä½œ</p>
            
            <div class="architecture-flow">
                <div class="flow-step">ğŸ“„ CHTLæºç </div>
                <div class="arrow">â†’</div>
                <div class="flow-step">ğŸ” ç»Ÿä¸€æ‰«æå™¨</div>
                <div class="arrow">â†’</div>
                <div class="flow-step">ğŸ“¦ CodeFragment</div>
                <div class="arrow">â†’</div>
                <div class="flow-step">âš™ï¸ CJMOD API</div>
                <div class="arrow">â†’</div>
                <div class="flow-step">ğŸ“œ æ ‡å‡†JS</div>
            </div>
        </div>
        
        <div class="demo-grid">
            <!-- printMyloveæ¼”ç¤º -->
            <div class="demo-card">
                <h3>ğŸ¨ printMylove - å›¾åƒè½¬å­—ç¬¦</h3>
                <p>CJMODæ‰©å±•ï¼šå°†å›¾åƒè½¬æ¢ä¸ºASCIIæˆ–åƒç´ å­—ç¬¦</p>
                
                <div class="code-display">
// CHTL JSè¯­æ³• - ä¼šè¢«ç»Ÿä¸€æ‰«æå™¨è¯†åˆ«
const asciiArt = printMylove({
    url: "https://example.com/chtholly.jpg",
    mode: "ASCII",
    width: "300px",
    height: "200px",
    scale: 0.6
});
                </div>
                
                <button class="btn" onclick="demonstratePrintMylove()">ğŸš€ æ‰§è¡ŒprintMylove</button>
                <div id="printMyloveResult" class="result-display" style="display:none;">
                    <canvas id="imageCanvas"></canvas>
                    <div id="asciiOutput"></div>
                </div>
            </div>
            
            <!-- è™šå¯¹è±¡æ¼”ç¤º -->
            <div class="demo-card">
                <h3>ğŸ”® è™šå¯¹è±¡ç³»ç»Ÿæ¼”ç¤º</h3>
                <p>CHTL JSè™šå¯¹è±¡ï¼šlisten + å§”æ‰˜è°ƒç”¨</p>
                
                <div class="code-display">
// è™šå¯¹è±¡å®šä¹‰
vir eventManager = listen({
    activate: function(element) {
        element.classList.add('active');
        console.log('å…ƒç´ æ¿€æ´»');
    },
    
    deactivate: function(element) {
        element.classList.remove('active');
        console.log('å…ƒç´ åœç”¨');
    }
});

// è™šå¯¹è±¡è°ƒç”¨
eventManager->activate(targetElement);
                </div>
                
                <div class="virtual-object-demo" id="virtualDemo">
                    <span class="state-indicator" id="stateIndicator"></span>
                    <span>è™šå¯¹è±¡çŠ¶æ€æ¼”ç¤ºåŒºåŸŸ</span>
                </div>
                
                <button class="btn" onclick="activateVirtualObject()">âœ… æ¿€æ´»</button>
                <button class="btn" onclick="deactivateVirtualObject()">âŒ åœç”¨</button>
            </div>
            
            <!-- iNeverAwayæ¼”ç¤º -->
            <div class="demo-card">
                <h3>ğŸ’« iNeverAway - çŠ¶æ€ç®¡ç†</h3>
                <p>CJMODæ‰©å±•ï¼šåˆ›å»ºæ ‡è®°å‡½æ•°å’ŒçŠ¶æ€ç®¡ç†</p>
                
                <div class="code-display">
// iNeverAwayçŠ¶æ€ç®¡ç†
vir stateManager = iNeverAway({
    Void&lt;Loading&gt;: function(message) {
        showLoading(message);
    },
    
    Void&lt;Success&gt;: function(data) {
        showSuccess(data);
    },
    
    Void&lt;Error&gt;: function(error) {
        showError(error);
    }
});

// çŠ¶æ€åˆ‡æ¢
stateManager->Loading("å¤„ç†ä¸­...");
                </div>
                
                <button class="btn" onclick="demonstrateStateLoading()">â³ LoadingçŠ¶æ€</button>
                <button class="btn" onclick="demonstrateStateSuccess()">âœ… SuccessçŠ¶æ€</button>
                <button class="btn" onclick="demonstrateStateError()">âŒ ErrorçŠ¶æ€</button>
                
                <div id="stateDisplay" class="result-display">
                    <div id="stateContent">å‡†å¤‡æ¼”ç¤ºçŠ¶æ€ç®¡ç†...</div>
                </div>
            </div>
            
            <!-- è‡ªå®šä¹‰CJMODæ‰©å±•æ¼”ç¤º -->
            <div class="demo-card">
                <h3>ğŸ› ï¸ è‡ªå®šä¹‰CJMODæ‰©å±•</h3>
                <p>æ¼”ç¤ºå¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰çš„CHTL JSè¯­æ³•</p>
                
                <div class="code-display">
// è‡ªå®šä¹‰CJMODè¯­æ³•
const animation = createAnimation({
    target: ".demo-card",
    type: "fadeInUp",
    duration: 800,
    delay: 200,
    easing: "ease-out"
});

// é“¾å¼è°ƒç”¨
animation.play().then(() => {
    console.log("åŠ¨ç”»å®Œæˆ");
});
                </div>
                
                <button class="btn" onclick="demonstrateCustomCJMOD()">ğŸ¬ æ‰§è¡Œè‡ªå®šä¹‰åŠ¨ç”»</button>
                <div id="customResult" class="result-display" style="display:none;">
                    <p>è‡ªå®šä¹‰CJMODæ‰©å±•æ‰§è¡Œç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</p>
                </div>
            </div>
        </div>
        
        <!-- æ¶æ„è¯´æ˜ -->
        <div class="demo-card">
            <h3>ğŸ† CHTLæ¶æ„ä¼˜åŠ¿</h3>
            <div class="code-display">
<strong>ç»Ÿä¸€æ‰«æå™¨èŒè´£ï¼š</strong>
âœ… è¯†åˆ«CHTL JSè¯­æ³•å…³é”®å­—ï¼ˆprintMylove, vir, listen, iNeverAwayç­‰ï¼‰
âœ… å°†æºç åˆ‡å‰²ä¸ºCodeFragmentå¹¶åˆ†ç±»ï¼ˆCHTL_JSç±»å‹ï¼‰
âœ… ä½¿ç”¨åŒæŒ‡é’ˆæ»‘åŠ¨çª—å£å’Œå‰ç½®æˆªå–æœºåˆ¶
âŒ ä¸è¿›è¡Œè¯æ³•åˆ†æï¼ˆè¿™æ˜¯å…³é”®ç†è§£ï¼ï¼‰

<strong>CJMOD APIèŒè´£ï¼š</strong>
âœ… æ¥æ”¶ç»Ÿä¸€æ‰«æå™¨çš„CodeFragment
âœ… ä½¿ç”¨peekKeywordæŠ€æœ¯æå–å‚æ•°å€¼
âœ… æ‰§è¡Œ7æ­¥åŸå§‹APIæµç¨‹æˆ–ç®€åŒ–æµç¨‹
âœ… ç”Ÿæˆæ ‡å‡†JavaScriptä»£ç 
âœ… å§”æ‰˜è™šå¯¹è±¡åŠŸèƒ½ç»™CHTL JS

<strong>å®Œç¾åä½œï¼š</strong>
ğŸ¯ èŒè´£åˆ†ç¦» - å„ç»„ä»¶ä¸“æ³¨æ ¸å¿ƒåŠŸèƒ½
ğŸ”„ åä½œä¼˜å…ˆ - é¿å…é‡å¤å®ç°
âš¡ æ•ˆç‡è‡³ä¸Š - åˆ©ç”¨ç°æœ‰ä¼˜ç§€æ¶æ„
ğŸ—ï¸ å¯æ‰©å±•æ€§ - æ–°æ‰©å±•è½»æ¾é›†æˆ
            </div>
        </div>
    </div>
    
    <!-- CHTL JSä»£ç å— - ä¼šè¢«ç»Ÿä¸€æ‰«æå™¨è¯†åˆ«å¹¶äº¤ç»™CJMODå¤„ç† -->
    <script>
    {
        console.log("ğŸ—ï¸ CHTLä¸CJMODé›†æˆæ¼”ç¤ºå¼€å§‹");
        
        // ============ printMyloveå®ç° ============
        // è¿™ä¸ªå‡½æ•°è°ƒç”¨ä¼šè¢«ç»Ÿä¸€æ‰«æå™¨è¯†åˆ«ä¸ºCHTL_JSç‰‡æ®µ
        // ç„¶åäº¤ç»™CJMOD APIå¤„ç†ï¼Œç”Ÿæˆæ ‡å‡†JavaScript
        
        function demonstratePrintMylove() {
            console.log("=== printMyloveæ¼”ç¤º ===");
            
            // CJMODæ‰©å±•è¯­æ³• - ç»Ÿä¸€æ‰«æå™¨ä¼šè¯†åˆ«è¿™ä¸ª
            const result = printMylove({
                url: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzY2N2VlYSIvPgogIDx0ZXh0IHg9IjUwIiB5PSI1NSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE0IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+Q0hUTDwvdGV4dD4KPC9zdmc+",
                mode: "ASCII",
                width: "200px",
                height: "150px",
                scale: 0.8
            });
            
            document.getElementById('printMyloveResult').style.display = 'block';
            document.getElementById('asciiOutput').innerHTML = 
                '<p>âœ… printMyloveå¤„ç†å®Œæˆï¼</p><p>å›¾åƒå·²è½¬æ¢ä¸ºASCIIå­—ç¬¦ï¼ˆæ¨¡æ‹Ÿï¼‰</p><pre>@@@@@@@@@@\n@  CHTL  @\n@        @\n@@@@@@@@@@</pre>';
        }
        
        // ============ è™šå¯¹è±¡ç³»ç»Ÿæ¼”ç¤º ============
        // è™šå¯¹è±¡å®šä¹‰ - ä¼šè¢«CJMODå§”æ‰˜ç»™CHTL JSå¤„ç†
        vir eventManager = listen({
            activate: function(element) {
                element.classList.add('active');
                element.querySelector('.state-indicator').classList.add('active');
                console.log('è™šå¯¹è±¡ï¼šå…ƒç´ å·²æ¿€æ´»');
            },
            
            deactivate: function(element) {
                element.classList.remove('active');
                element.querySelector('.state-indicator').classList.remove('active');
                console.log('è™šå¯¹è±¡ï¼šå…ƒç´ å·²åœç”¨');
            }
        });
        
        function activateVirtualObject() {
            // è™šå¯¹è±¡è°ƒç”¨ - CJMODä¼šå§”æ‰˜ç»™CHTL JSçš„è™šå¯¹è±¡ç³»ç»Ÿ
            eventManager->activate(document.getElementById('virtualDemo'));
        }
        
        function deactivateVirtualObject() {
            eventManager->deactivate(document.getElementById('virtualDemo'));
        }
        
        // ============ iNeverAwayçŠ¶æ€ç®¡ç†æ¼”ç¤º ============
        // iNeverAwayè¯­æ³• - ç»Ÿä¸€æ‰«æå™¨è¯†åˆ«ï¼ŒCJMODå¤„ç†
        vir stateManager = iNeverAway({
            Void<Loading>: function(message) {
                const display = document.getElementById('stateContent');
                display.innerHTML = `<div style="color: #ffa500;">â³ ${message}</div>`;
                display.style.background = 'rgba(255, 165, 0, 0.1)';
            },
            
            Void<Success>: function(data) {
                const display = document.getElementById('stateContent');
                display.innerHTML = `<div style="color: #00ff88;">âœ… æˆåŠŸï¼š${data}</div>`;
                display.style.background = 'rgba(0, 255, 136, 0.1)';
            },
            
            Void<Error>: function(error) {
                const display = document.getElementById('stateContent');
                display.innerHTML = `<div style="color: #ff6464;">âŒ é”™è¯¯ï¼š${error}</div>`;
                display.style.background = 'rgba(255, 100, 100, 0.1)';
            }
        });
        
        function demonstrateStateLoading() {
            stateManager->Loading("æ­£åœ¨å¤„ç†CJMODè¯·æ±‚...");
        }
        
        function demonstrateStateSuccess() {
            stateManager->Success("CJMODæ‰©å±•æ‰§è¡ŒæˆåŠŸï¼");
        }
        
        function demonstrateStateError() {
            stateManager->Error("æ¨¡æ‹Ÿçš„é”™è¯¯çŠ¶æ€");
        }
        
        // ============ è‡ªå®šä¹‰CJMODæ‰©å±•æ¼”ç¤º ============
        function demonstrateCustomCJMOD() {
            console.log("=== è‡ªå®šä¹‰CJMODæ‰©å±•æ¼”ç¤º ===");
            
            // è‡ªå®šä¹‰CJMODè¯­æ³• - è¿™ä¹Ÿä¼šè¢«ç»Ÿä¸€æ‰«æå™¨è¯†åˆ«
            const animation = createAnimation({
                target: ".demo-card",
                type: "pulse",
                duration: 1000,
                iterations: 2
            });
            
            // æ‰§è¡ŒåŠ¨ç”»
            document.querySelectorAll('.demo-card').forEach(card => {
                card.style.animation = 'pulse 1s ease-in-out 2';
            });
            
            document.getElementById('customResult').style.display = 'block';
            document.getElementById('customResult').innerHTML = 
                '<p>âœ… è‡ªå®šä¹‰CJMODæ‰©å±•æ‰§è¡Œå®Œæˆï¼</p><p>æ‰€æœ‰å¡ç‰‡éƒ½åº”ç”¨äº†è„‰å†²åŠ¨ç”»æ•ˆæœ</p>';
        }
        
        // ============ æ™®é€šJavaScriptä»£ç  ============
        // è¿™äº›æ˜¯æ™®é€šJSï¼Œä¸ä¼šè¢«CJMODå¤„ç†
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log("ğŸ“„ CHTLé¡µé¢åŠ è½½å®Œæˆ");
            console.log("ğŸ” ç»Ÿä¸€æ‰«æå™¨å·²è¯†åˆ«CHTL JSè¯­æ³•");
            console.log("âš™ï¸ CJMOD APIå·²å‡†å¤‡å¤„ç†æ‰©å±•è¯­æ³•");
            
            // æ·»åŠ CSSåŠ¨ç”»
            const style = document.createElement('style');
            style.textContent = `
                @keyframes pulse {
                    0% { transform: scale(1); }
                    50% { transform: scale(1.05); }
                    100% { transform: scale(1); }
                }
                
                .active {
                    border-color: #00ff88 !important;
                    box-shadow: 0 0 20px rgba(0, 255, 136, 0.5) !important;
                }
            `;
            document.head.appendChild(style);
            
            // æ˜¾ç¤ºæ¶æ„ä¿¡æ¯
            setTimeout(() => {
                console.log("ğŸ† CHTLæ¶æ„ä¼˜åŠ¿å±•ç¤ºï¼š");
                console.log("   âœ… ç»Ÿä¸€æ‰«æå™¨ï¼šä¸“æ³¨ä»£ç åˆ‡å‰²ï¼Œä¸åšè¯æ³•åˆ†æ");
                console.log("   âœ… CJMOD APIï¼šå¤„ç†CodeFragmentï¼Œä½¿ç”¨peekKeyword");
                console.log("   âœ… å®Œç¾åä½œï¼šåˆ©ç”¨ç°æœ‰ä¼˜ç§€æ¶æ„è®¾è®¡");
            }, 1000);
        });
        
        // æ·»åŠ äº¤äº’æ•ˆæœ
        function addInteractiveEffects() {
            const cards = document.querySelectorAll('.demo-card');
            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-8px) scale(1.02)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
        }
        
        // åˆå§‹åŒ–äº¤äº’æ•ˆæœ
        addInteractiveEffects();
    }
    </script>
    
    <!-- æ™®é€šJavaScript - ä¸ä¼šè¢«CJMODå¤„ç† -->
    <script>
        // é¡µé¢ç»Ÿè®¡å’Œåˆ†æ
        console.log("ğŸ“Š é¡µé¢ç»Ÿè®¡ï¼šCHTLä¸CJMODé›†æˆæ¼”ç¤º");
        
        // æ€§èƒ½ç›‘æ§
        window.addEventListener('load', function() {
            const loadTime = performance.now();
            console.log(`âš¡ é¡µé¢åŠ è½½æ—¶é—´: ${loadTime.toFixed(2)}ms`);
        });
        
        // é”™è¯¯å¤„ç†
        window.addEventListener('error', function(e) {
            console.error('âŒ é¡µé¢é”™è¯¯:', e.error);
        });
    </script>
</body>
</html>