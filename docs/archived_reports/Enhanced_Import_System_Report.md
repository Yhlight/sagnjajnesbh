# CHTLå¢å¼ºImportç³»ç»Ÿå®ŒæˆæŠ¥å‘Š

## ğŸ¯ ä»»åŠ¡å®Œæˆæ¦‚è¿°

æˆåŠŸå®Œå–„äº†CHTLçš„å¢å¼ºImportåŠŸèƒ½ï¼Œä¿®æ­£äº†åŒä¸€è·¯å¾„å¤šè¡¨è¾¾æ–¹å¼ã€å¾ªç¯ä¾èµ–åŠé‡å¤å¯¼å…¥é—®é¢˜ï¼Œå¹¶ä¸¥æ ¼æŒ‰ç…§ç”¨æˆ·æä¾›çš„è§„åˆ™å®ç°äº†å„ç±»å¯¼å…¥è¯­æ³•ã€‚ç³»ç»Ÿæ”¯æŒ@Html/@Style/@JavaScriptç­‰Webèµ„æºå¯¼å…¥ã€@Chtl/@CJmodæ¨¡å—å¯¼å…¥ã€[Origin]è‡ªå®šä¹‰ç±»å‹å¯¼å…¥ï¼Œä»¥åŠé€šé…ç¬¦å¯¼å…¥ã€å­æ¨¡å—å¯¼å…¥ç­‰é«˜çº§åŠŸèƒ½ã€‚åŒæ—¶ä¿®æ­£äº†å±€éƒ¨scriptä½¿ç”¨{{&}}å’Œå±€éƒ¨styleä½¿ç”¨&çš„åŒºåˆ«ã€‚

## âœ… æ ¸å¿ƒå®ç°æˆæœ

### ğŸ”§ å¼•ç”¨é€‰æ‹©å™¨ä¿®æ­£

#### **å±€éƒ¨scriptä½¿ç”¨{{&}}ï¼Œå±€éƒ¨styleä½¿ç”¨&çš„åŒºåˆ«**

**ä¿®æ­£å‰çš„é—®é¢˜**ï¼š
```cpp
// é”™è¯¯ï¼šæ··æ·†äº†ä¸¤ç§å¼•ç”¨é€‰æ‹©å™¨çš„ä½¿ç”¨åœºæ™¯
std::regex refRegex(R"(&(?![a-zA-Z0-9]))"); // åªåŒ¹é…&
```

**ä¿®æ­£åçš„å®ç°**ï¼š
```cpp
std::vector<SelectorInfo> SelectorAnalyzer::ParseReferenceSelectors(const std::string& content) {
    std::vector<SelectorInfo> selectors;
    
    // åŒ¹é…æ ·å¼å—å¼•ç”¨é€‰æ‹©å™¨ &ï¼ˆå±€éƒ¨styleä½¿ç”¨&ï¼‰
    std::regex styleRefRegex(R"(&(?![a-zA-Z0-9{]))"); // &åé¢ä¸è·Ÿå­—æ¯æ•°å­—æˆ–{
    std::sregex_iterator styleRefIter(content.begin(), content.end(), styleRefRegex);
    std::sregex_iterator end;
    
    for (; styleRefIter != end; ++styleRefIter) {
        const std::smatch& match = *styleRefIter;
        SelectorInfo info;
        info.type = SelectorType::REFERENCE;
        info.name = "&";
        info.fullSelector = "&";
        info.position = match.position();
        info.isAutoGenerated = false;
        selectors.push_back(info);
    }
    
    // åŒ¹é…è„šæœ¬å—å¼•ç”¨é€‰æ‹©å™¨ {{&}}ï¼ˆå±€éƒ¨scriptä½¿ç”¨{{&}}ï¼‰
    std::regex scriptRefRegex(R"(\{\{&\}\})");
    std::sregex_iterator scriptRefIter(content.begin(), content.end(), scriptRefRegex);
    
    for (; scriptRefIter != end; ++scriptRefIter) {
        const std::smatch& match = *scriptRefIter;
        SelectorInfo info;
        info.type = SelectorType::REFERENCE;
        info.name = "{{&}}";
        info.fullSelector = "{{&}}";
        info.position = match.position();
        info.isAutoGenerated = false;
        selectors.push_back(info);
    }
    
    return selectors;
}
```

**æ™ºèƒ½çš„å¼•ç”¨é€‰æ‹©å™¨æ›¿æ¢**ï¼š
```cpp
std::string ReferenceSelectorResolver::ReplaceReferenceSelectors(const std::string& content, const std::string& referenceSelector) {
    std::string result = content;
    
    // æ£€æŸ¥æ˜¯å¦ä¸ºè„šæœ¬å—æ ¼å¼çš„å¼•ç”¨é€‰æ‹©å™¨
    if (referenceSelector.find("{{") != std::string::npos) {
        // è„šæœ¬å—ï¼šæ›¿æ¢{{&}}ä¸ºå¯¹åº”çš„å¢å¼ºé€‰æ‹©å™¨
        std::regex scriptRefRegex(R"(\{\{&\}\})");
        result = std::regex_replace(result, scriptRefRegex, referenceSelector);
    } else {
        // æ ·å¼å—ï¼šæ›¿æ¢&ä¸ºå¯¹åº”çš„CSSé€‰æ‹©å™¨
        std::regex styleRefRegex(R"(&(?![a-zA-Z0-9{]))");
        result = std::regex_replace(result, styleRefRegex, referenceSelector);
    }
    
    return result;
}
```

### ğŸŒ Webèµ„æºå¯¼å…¥ç³»ç»Ÿ

#### **@Html/@Style/@JavaScriptå¯¼å…¥è§„åˆ™**

**è§„åˆ™å®ç°**ï¼š
1. **æ²¡æœ‰asè¯­æ³•ï¼šç›´æ¥è·³è¿‡**
2. **æœ‰asè¯­æ³•ï¼šåˆ›å»ºç›¸åº”ç±»å‹çš„å¸¦ååŸå§‹åµŒå…¥èŠ‚ç‚¹**
3. **è·¯å¾„æœç´¢ï¼šä»…åœ¨å½“å‰ç›®å½•ï¼ˆéé€’å½’ï¼‰æœç´¢**

```cpp
std::vector<std::shared_ptr<AST::ASTNode>> EnhancedImportSystem::ProcessWebAssetImport(const ImportInfo& importInfo) {
    std::vector<std::shared_ptr<AST::ASTNode>> results;
    
    // å¯¹äº@Htmlï¼Œ@Styleï¼Œ@JavaScript
    // å¦‚æœæ²¡æœ‰ä½¿ç”¨asè¯­æ³•ï¼Œåˆ™ç›´æ¥è·³è¿‡
    if (!importInfo.hasAsClause) {
        Utils::ErrorHandler::GetInstance().LogInfo(
            "Webèµ„æºå¯¼å…¥æ²¡æœ‰aså­å¥ï¼Œè·³è¿‡: " + importInfo.originalPath
        );
        return results;
    }
    
    // å¦‚æœä½¿ç”¨asè¯­æ³•ï¼Œåˆ™åˆ›å»ºç›¸åº”ç±»å‹çš„å¸¦ååŸå§‹åµŒå…¥èŠ‚ç‚¹
    auto resolvedPaths = pathResolver_.ResolvePath(importInfo);
    
    for (const auto& path : resolvedPaths) {
        std::string content = ReadFileContent(path);
        if (!content.empty()) {
            auto originNode = CreateNamedOriginNode(importInfo.type, content, importInfo.asName);
            if (originNode) {
                results.push_back(originNode);
                
                // æ›´æ–°ç»Ÿè®¡
                switch (importInfo.type) {
                    case ImportType::HTML:       htmlImportCount_++; break;
                    case ImportType::STYLE:      styleImportCount_++; break;
                    case ImportType::JAVASCRIPT: jsImportCount_++; break;
                    default: break;
                }
            }
        }
    }
    
    return results;
}
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```chtl
// æ²¡æœ‰asè¯­æ³•ï¼Œç›´æ¥è·³è¿‡
[Import] @Html from "template.html"  // è·³è¿‡

// æœ‰asè¯­æ³•ï¼Œåˆ›å»ºå¸¦ååŸå§‹åµŒå…¥èŠ‚ç‚¹
[Import] @Html from "header.html" as headerTemplate
[Import] @Style from "main.css" as mainStyles
[Import] @JavaScript from "utils.js" as utilities

// ä½¿ç”¨å¯¼å…¥çš„èµ„æº
html {
    head {
        [Origin] @Style mainStyles;  // ä½¿ç”¨å¯¼å…¥çš„CSS
    }
    body {
        [Origin] @Html headerTemplate;  // ä½¿ç”¨å¯¼å…¥çš„HTML
        
        script {
            [Origin] @JavaScript utilities;  // ä½¿ç”¨å¯¼å…¥çš„JavaScript
        }
    }
}
```

### ğŸ—ï¸ @Chtlæ¨¡å—å¯¼å…¥ç³»ç»Ÿ

#### **è·¯å¾„æœç´¢ä¼˜å…ˆçº§**
1. **å®˜æ–¹æ¨¡å—ç›®å½•**ï¼ˆæºç ç¼–è¯‘åç”Ÿæˆçš„moduleæ–‡ä»¶å¤¹ï¼‰
2. **å½“å‰ç›®å½•çš„moduleæ–‡ä»¶å¤¹**
3. **å½“å‰ç›®å½•**
4. **ä¼˜å…ˆåŒ¹é….cmodæ–‡ä»¶ï¼Œå…¶æ¬¡.chtlæ–‡ä»¶ï¼Œä¸åŒ¹é….cjmodæ–‡ä»¶**

```cpp
std::vector<std::string> PathResolver::ResolveChtlPath(const ImportInfo& importInfo) {
    std::vector<std::string> results;
    
    // æ£€æŸ¥æ˜¯å¦ä½¿ç”¨å®˜æ–¹æ¨¡å—å‰ç¼€
    if (importInfo.useOfficialPrefix) {
        // ç›´æ¥åœ¨å®˜æ–¹æ¨¡å—ç›®å½•ä¸­æœç´¢
        std::string officialPath = officialModulePath_ + "/" + importInfo.path;
        if (FileExists(officialPath)) {
            results.push_back(officialPath);
        }
        return results;
    }
    
    switch (importInfo.pathType) {
        case PathType::NAME_ONLY: {
            // åç§°ï¼ˆä¸å¸¦åç¼€ï¼‰ï¼šå®˜æ–¹æ¨¡å—ç›®å½•â†’å½“å‰ç›®å½•moduleæ–‡ä»¶å¤¹â†’å½“å‰ç›®å½•
            // ä¼˜å…ˆåŒ¹é…cmodæ–‡ä»¶ï¼Œå…¶æ¬¡chtlï¼Œä¸åŒ¹é…cjmodæ–‡ä»¶
            std::vector<std::string> extensions = {".cmod", ".chtl"};
            
            // 1. æœç´¢å®˜æ–¹æ¨¡å—ç›®å½•
            std::string found = SearchOfficialModules(importInfo.path, extensions);
            if (!found.empty()) {
                results.push_back(found);
                break;
            }
            
            // 2. æœç´¢å½“å‰ç›®å½•çš„moduleæ–‡ä»¶å¤¹
            found = SearchCurrentModules(importInfo.path, extensions);
            if (!found.empty()) {
                results.push_back(found);
                break;
            }
            
            // 3. æœç´¢å½“å‰ç›®å½•
            found = SearchCurrentDirectory(importInfo.path, extensions);
            if (!found.empty()) {
                results.push_back(found);
            }
            break;
        }
        
        // ... å…¶ä»–è·¯å¾„ç±»å‹å¤„ç†
    }
    
    return results;
}
```

#### **å®˜æ–¹æ¨¡å—å‰ç¼€æ”¯æŒ**
```chtl
// ä½¿ç”¨å®˜æ–¹æ¨¡å—å‰ç¼€ï¼Œç›´æ¥åœ¨å®˜æ–¹æ¨¡å—ç›®å½•ä¸­æœç´¢
[Import] @Chtl from "chtl::Chtholly" {
    import: [Accordion, CloverAlbum, Memo];
}

// ç­‰ä»·äºåœ¨å®˜æ–¹æ¨¡å—ç›®å½•ä¸­æœç´¢Chtholly.cmodæˆ–Chtholly.chtl
```

#### **é€šé…ç¬¦å¯¼å…¥æ”¯æŒ**
```chtl
// å¯¼å…¥å…·ä½“è·¯å¾„ä¸‹çš„æ‰€æœ‰.cmodå’Œ.chtlæ–‡ä»¶
[Import] @Chtl from "components/*"
[Import] @Chtl from "components/.*"  // ç­‰ä»·è¯­æ³•

// å¯¼å…¥å…·ä½“è·¯å¾„ä¸‹çš„æ‰€æœ‰.cmodæ–‡ä»¶
[Import] @Chtl from "components/*.cmod"
[Import] @Chtl from "components/.*.cmod"  // ç­‰ä»·è¯­æ³•

// å¯¼å…¥å…·ä½“è·¯å¾„ä¸‹çš„æ‰€æœ‰.chtlæ–‡ä»¶
[Import] @Chtl from "components/*.chtl"
[Import] @Chtl from "components/.*.chtl"  // ç­‰ä»·è¯­æ³•
```

#### **å­æ¨¡å—å¯¼å…¥æ”¯æŒ**
```chtl
// å¯¼å…¥Chthollyæ¨¡å—çš„æ‰€æœ‰å­æ¨¡å—
[Import] @Chtl from "Chtholly.*"

// å¯¼å…¥Chthollyæ¨¡å—çš„ç‰¹å®šå­æ¨¡å—
[Import] @Chtl from "Chtholly.Space"
[Import] @Chtl from "Chtholly.Memory"

// æ”¯æŒä½¿ç”¨'/'æ›¿ä»£'.'ä½œä¸ºè·¯å¾„åˆ†éš”ç¬¦
[Import] @Chtl from "Chtholly/Space"
[Import] @Chtl from "Chtholly/Memory"
```

### ğŸ”§ @CJmodæ‰©å±•å¯¼å…¥ç³»ç»Ÿ

#### **CJmodå¯¼å…¥è§„åˆ™**
- **åç§°ï¼ˆä¸å¸¦åç¼€ï¼‰**ï¼šå®˜æ–¹æ¨¡å—ç›®å½•â†’å½“å‰ç›®å½•moduleæ–‡ä»¶å¤¹â†’å½“å‰ç›®å½•ï¼Œä»…åŒ¹é….cjmodæ–‡ä»¶
- **å…·ä½“åç§°ï¼ˆå¸¦åç¼€ï¼‰**ï¼šæŒ‰ä¼˜å…ˆçº§æœç´¢æŒ‡å®šæ–‡ä»¶
- **å…·ä½“è·¯å¾„ï¼ˆå«æ–‡ä»¶ä¿¡æ¯ï¼‰**ï¼šç›´æ¥æŒ‰è·¯å¾„æŸ¥æ‰¾
- **å…·ä½“è·¯å¾„ï¼ˆä¸å«æ–‡ä»¶ä¿¡æ¯ï¼‰**ï¼šè§¦å‘æŠ¥é”™

```cpp
std::vector<std::string> PathResolver::ResolveCJmodPath(const ImportInfo& importInfo) {
    std::vector<std::string> results;
    
    // æ£€æŸ¥æ˜¯å¦ä½¿ç”¨å®˜æ–¹æ¨¡å—å‰ç¼€
    if (importInfo.useOfficialPrefix) {
        // ç›´æ¥åœ¨å®˜æ–¹æ¨¡å—ç›®å½•ä¸­æœç´¢
        std::string officialPath = officialModulePath_ + "/" + importInfo.path + ".cjmod";
        if (FileExists(officialPath)) {
            results.push_back(officialPath);
        }
        return results;
    }
    
    switch (importInfo.pathType) {
        case PathType::NAME_ONLY: {
            // åç§°ï¼ˆä¸å¸¦åç¼€ï¼‰ï¼šå®˜æ–¹æ¨¡å—ç›®å½•â†’å½“å‰ç›®å½•moduleæ–‡ä»¶å¤¹â†’å½“å‰ç›®å½•ï¼Œä»…åŒ¹é…cjmodæ–‡ä»¶
            std::vector<std::string> extensions = {".cjmod"};
            
            // 1. æœç´¢å®˜æ–¹æ¨¡å—ç›®å½•
            std::string found = SearchOfficialModules(importInfo.path, extensions);
            if (!found.empty()) {
                results.push_back(found);
                break;
            }
            
            // 2. æœç´¢å½“å‰ç›®å½•çš„moduleæ–‡ä»¶å¤¹
            found = SearchCurrentModules(importInfo.path, extensions);
            if (!found.empty()) {
                results.push_back(found);
                break;
            }
            
            // 3. æœç´¢å½“å‰ç›®å½•
            found = SearchCurrentDirectory(importInfo.path, extensions);
            if (!found.empty()) {
                results.push_back(found);
            }
            break;
        }
        
        // ... å…¶ä»–è·¯å¾„ç±»å‹å¤„ç†
    }
    
    return results;
}
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```chtl
// åŸºæœ¬CJmodå¯¼å…¥
[Import] @CJmod from "PrintMylove"
[Import] @CJmod from "INeverAway"

// å®˜æ–¹CJmodå¯¼å…¥
[Import] @CJmod from "chtl::PrintMylove"
[Import] @CJmod from "chtl::INeverAway"

// å…·ä½“CJmodæ–‡ä»¶å¯¼å…¥
[Import] @CJmod from "CustomExtension.cjmod"
[Import] @CJmod from "./extensions/SpecialExtension.cjmod"
```

### ğŸ¨ [Origin]è‡ªå®šä¹‰ç±»å‹å¯¼å…¥

#### **è‡ªå®šä¹‰åŸå§‹åµŒå…¥ç±»å‹å¯¼å…¥**
- **ä¸æ™®é€šåŸå§‹åµŒå…¥çš„åŒºåˆ«**ï¼šæ˜ç¡®è¡¨æ˜ä½¿ç”¨[Origin]å‰ç¼€
- **æ”¯æŒä»»æ„è‡ªå®šä¹‰ç±»å‹**ï¼š@Vueã€@Reactã€@Svelteç­‰
- **åˆ›å»ºå¸¦ååŸå§‹åµŒå…¥èŠ‚ç‚¹**

```cpp
std::vector<std::shared_ptr<AST::ASTNode>> EnhancedImportSystem::ProcessOriginImport(const ImportInfo& importInfo) {
    std::vector<std::shared_ptr<AST::ASTNode>> results;
    
    // å¤„ç†[Origin] @CustomTypeå¯¼å…¥
    auto resolvedPaths = pathResolver_.ResolvePath(importInfo);
    
    for (const auto& path : resolvedPaths) {
        std::string content = ReadFileContent(path);
        if (!content.empty()) {
            auto originNode = std::make_shared<AST::OriginNode>(
                AST::OriginNode::OriginType::CUSTOM, 
                content, 
                importInfo.asName.empty() ? "CustomOrigin" : importInfo.asName
            );
            
            results.push_back(originNode);
            originImportCount_++;
        }
    }
    
    return results;
}
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```chtl
// Vueç»„ä»¶å¯¼å…¥
[Import] [Origin] @Vue from "components/Header.vue" as VueHeader
[Import] [Origin] @Vue from "components/Sidebar.vue" as VueSidebar

// Reactç»„ä»¶å¯¼å…¥
[Import] [Origin] @React from "components/Button.jsx" as ReactButton
[Import] [Origin] @React from "components/Modal.tsx" as ReactModal

// è‡ªå®šä¹‰æ–‡ä»¶ç±»å‹å¯¼å…¥
[Import] [Origin] @Markdown from "docs/README.md" as ReadmeContent
[Import] [Origin] @XML from "config/settings.xml" as ConfigXML

// ä½¿ç”¨å¯¼å…¥çš„è‡ªå®šä¹‰ç±»å‹
html {
    body {
        [Origin] @Vue VueHeader;
        [Origin] @React ReactButton;
        [Origin] @Markdown ReadmeContent;
    }
}
```

### ğŸ” è·¯å¾„è§£æç³»ç»Ÿ

#### **æ¨¡å—ç›®å½•ç»“æ„æ”¯æŒ**

**åˆ†ç±»ç»“æ„**ï¼ˆé»˜è®¤æ¨èï¼‰ï¼š
```
module/
â”œâ”€â”€ CMOD/           // åŒ…å«.chtlå’Œ.cmodæ–‡ä»¶
â”‚   â”œâ”€â”€ Chtholly.cmod
â”‚   â”œâ”€â”€ Yuigahama.chtl
â”‚   â””â”€â”€ ...
â””â”€â”€ CJMOD/          // åŒ…å«.cjmodæ–‡ä»¶
    â”œâ”€â”€ PrintMylove.cjmod
    â”œâ”€â”€ INeverAway.cjmod
    â””â”€â”€ ...
```

**æ··æ‚ç»“æ„**ï¼ˆå…¼å®¹ï¼‰ï¼š
```
module/
â”œâ”€â”€ Chtholly.cmod
â”œâ”€â”€ Yuigahama.chtl
â”œâ”€â”€ PrintMylove.cjmod
â”œâ”€â”€ INeverAway.cjmod
â””â”€â”€ ...
```

**å®ç°æœºåˆ¶**ï¼š
```cpp
class ModuleDirectoryManager {
public:
    bool IsClassifiedStructure(const std::string& directory) const {
        // æ£€æŸ¥æ˜¯å¦å­˜åœ¨CMODå’ŒCJMODå­ç›®å½•
        std::string cmodDir = directory + "/CMOD";
        std::string cjmodDir = directory + "/CJMOD";
        
        return std::filesystem::exists(cmodDir) && std::filesystem::is_directory(cmodDir) &&
               std::filesystem::exists(cjmodDir) && std::filesystem::is_directory(cjmodDir);
    }
    
    std::string SearchInClassifiedStructure(const std::string& directory,
                                           const std::string& fileName,
                                           const std::vector<std::string>& extensions) {
        // åœ¨åˆ†ç±»ç»“æ„ä¸­æœç´¢ï¼šCMODæ–‡ä»¶å¤¹åŒ…å«.chtlå’Œ.cmodæ–‡ä»¶ï¼ŒCJMODæ–‡ä»¶å¤¹åŒ…å«.cjmodæ–‡ä»¶
        
        for (const auto& ext : extensions) {
            std::string filePath;
            
            if (ext == ".cmod" || ext == ".chtl") {
                // åœ¨CMODæ–‡ä»¶å¤¹ä¸­æœç´¢
                filePath = directory + "/CMOD/" + fileName + ext;
            } else if (ext == ".cjmod") {
                // åœ¨CJMODæ–‡ä»¶å¤¹ä¸­æœç´¢
                filePath = directory + "/CJMOD/" + fileName + ext;
            }
            
            if (!filePath.empty() && std::filesystem::exists(filePath)) {
                return filePath;
            }
        }
        
        return "";
    }
    
    std::string SearchInMixedStructure(const std::string& directory,
                                      const std::string& fileName,
                                      const std::vector<std::string>& extensions) {
        // åœ¨æ··æ‚ç»“æ„ä¸­æœç´¢ï¼šæ‰€æœ‰æ–‡ä»¶éƒ½åœ¨åŒä¸€ä¸ªç›®å½•ä¸­
        
        for (const auto& ext : extensions) {
            std::string filePath = directory + "/" + fileName + ext;
            if (std::filesystem::exists(filePath)) {
                return filePath;
            }
        }
        
        return "";
    }
};
```

#### **è·¯å¾„ç±»å‹è¯†åˆ«**

```cpp
PathType ImportParser::GetPathType(const std::string& path) {
    // æ£€æŸ¥é€šé…ç¬¦
    if (path.find(".*") != std::string::npos || path.find("/*") != std::string::npos) {
        if (path.find(".*.cmod") != std::string::npos || path.find("/*.cmod") != std::string::npos) {
            return PathType::WILDCARD_CMOD;
        } else if (path.find(".*.chtl") != std::string::npos || path.find("/*.chtl") != std::string::npos) {
            return PathType::WILDCARD_CHTL;
        } else {
            return PathType::WILDCARD_ALL;
        }
    }
    
    // æ£€æŸ¥å­æ¨¡å—
    size_t dotPos = path.find('.');
    if (dotPos != std::string::npos && dotPos > 0) {
        std::string afterDot = path.substr(dotPos + 1);
        if (afterDot == "*") {
            return PathType::SUBMODULE_ALL;
        } else if (!afterDot.empty() && afterDot.find('/') == std::string::npos) {
            return PathType::SUBMODULE_SPECIFIC;
        }
    }
    
    // æ£€æŸ¥è·¯å¾„ç±»å‹
    if (path.find('/') != std::string::npos || path.find('\\') != std::string::npos) {
        // åŒ…å«è·¯å¾„åˆ†éš”ç¬¦
        size_t lastSlash = std::max(path.find_last_of('/'), path.find_last_of('\\'));
        if (lastSlash != std::string::npos && lastSlash < path.length() - 1) {
            // è·¯å¾„åé¢è¿˜æœ‰æ–‡ä»¶å
            return PathType::SPECIFIC_PATH;
        } else {
            // è·¯å¾„åé¢æ²¡æœ‰æ–‡ä»¶å
            return PathType::DIRECTORY_PATH;
        }
    } else {
        // ä¸åŒ…å«è·¯å¾„åˆ†éš”ç¬¦
        if (path.find('.') != std::string::npos && path.find('.') > 0) {
            // åŒ…å«æ‰©å±•å
            return PathType::SPECIFIC_FILE;
        } else {
            // ä»…æ–‡ä»¶å
            return PathType::NAME_ONLY;
        }
    }
}
```

### ğŸš« å†²çªæ£€æµ‹ç³»ç»Ÿ

#### **å¾ªç¯ä¾èµ–æ£€æµ‹**

```cpp
bool ImportConflictDetector::CheckCircularDependency(const std::string& currentFile, const std::string& importPath) {
    std::string normalizedCurrent = NormalizePath(currentFile);
    std::string normalizedImport = NormalizePath(importPath);
    
    // æ£€æŸ¥æ˜¯å¦ä¼šå½¢æˆå¾ªç¯
    std::unordered_set<std::string> visited;
    std::unordered_set<std::string> recursionStack;
    
    if (DFSCheckCycle(normalizedImport, normalizedCurrent, visited, recursionStack)) {
        Utils::ErrorHandler::GetInstance().LogError(
            "æ£€æµ‹åˆ°å¾ªç¯ä¾èµ–: " + currentFile + " <-> " + importPath
        );
        return true;
    }
    
    return false;
}

bool ImportConflictDetector::DFSCheckCycle(const std::string& current, const std::string& target,
                                          std::unordered_set<std::string>& visited,
                                          std::unordered_set<std::string>& recursionStack) {
    visited.insert(current);
    recursionStack.insert(current);
    
    auto it = dependencyGraph_.find(current);
    if (it != dependencyGraph_.end()) {
        for (const auto& neighbor : it->second) {
            if (neighbor == target) {
                return true; // æ‰¾åˆ°å¾ªç¯
            }
            
            if (recursionStack.find(neighbor) != recursionStack.end()) {
                return true; // åœ¨é€’å½’æ ˆä¸­ï¼Œå­˜åœ¨å¾ªç¯
            }
            
            if (visited.find(neighbor) == visited.end()) {
                if (DFSCheckCycle(neighbor, target, visited, recursionStack)) {
                    return true;
                }
            }
        }
    }
    
    recursionStack.erase(current);
    return false;
}
```

#### **é‡å¤å¯¼å…¥æ£€æµ‹**

```cpp
bool ImportConflictDetector::CheckDuplicateImport(const std::string& importPath) {
    std::string normalizedPath = NormalizePath(importPath);
    
    if (importedPaths_.find(normalizedPath) != importedPaths_.end()) {
        Utils::ErrorHandler::GetInstance().LogWarning(
            "é‡å¤å¯¼å…¥: " + importPath
        );
        return true;
    }
    
    return false;
}
```

#### **è·¯å¾„è§„èŒƒåŒ–ï¼ˆè§£å†³åŒä¸€è·¯å¾„å¤šè¡¨è¾¾æ–¹å¼é—®é¢˜ï¼‰**

```cpp
std::string ImportConflictDetector::NormalizePath(const std::string& path) {
    // æ£€æŸ¥ç¼“å­˜
    auto it = pathNormalizationCache_.find(path);
    if (it != pathNormalizationCache_.end()) {
        return it->second;
    }
    
    std::string normalized = path;
    
    // è§„èŒƒåŒ–è·¯å¾„åˆ†éš”ç¬¦
    std::replace(normalized.begin(), normalized.end(), '\\', '/');
    
    // ç§»é™¤é‡å¤çš„æ–œæ 
    std::regex multiSlashRegex(R"(/+)");
    normalized = std::regex_replace(normalized, multiSlashRegex, "/");
    
    // è§£æç›¸å¯¹è·¯å¾„
    std::regex dotSlashRegex(R"(\./+)");
    normalized = std::regex_replace(normalized, dotSlashRegex, "");
    
    // å¤„ç†../è·¯å¾„
    std::vector<std::string> parts = Utils::StringUtils::Split(normalized, "/");
    std::vector<std::string> resolvedParts;
    
    for (const auto& part : parts) {
        if (part == "..") {
            if (!resolvedParts.empty()) {
                resolvedParts.pop_back();
            }
        } else if (!part.empty() && part != ".") {
            resolvedParts.push_back(part);
        }
    }
    
    normalized = Utils::StringUtils::Join(resolvedParts, "/");
    
    // ç¼“å­˜ç»“æœ
    pathNormalizationCache_[path] = normalized;
    
    return normalized;
}
```

**è·¯å¾„è§„èŒƒåŒ–ç¤ºä¾‹**ï¼š
```
./index.html -> index.html
../parent/index.html -> parent/index.html
folder//subfolder///file.txt -> folder/subfolder/file.txt
folder\subfolder\file.txt -> folder/subfolder/file.txt
```

### ğŸ·ï¸ å‘½åç©ºé—´å¢å¼ºåŠŸèƒ½

#### **é»˜è®¤å‘½åç©ºé—´é…ç½®**
```chtl
[Configuration]
{
    // ç¦ç”¨é»˜è®¤å‘½åç©ºé—´åŠŸèƒ½
    DISABLE_DEFAULT_NAMESPACE = false;
}
```

#### **é»˜è®¤å‘½åç©ºé—´åˆ›å»º**
```cpp
std::string EnhancedImportSystem::CreateDefaultNamespace(const std::string& fileName) {
    if (disableDefaultNamespace_) {
        return "";
    }
    
    // æå–æ–‡ä»¶åï¼ˆä¸å«æ‰©å±•åï¼‰ä½œä¸ºé»˜è®¤å‘½åç©ºé—´
    size_t lastSlash = fileName.find_last_of("/\\");
    std::string baseName = (lastSlash != std::string::npos) ? fileName.substr(lastSlash + 1) : fileName;
    
    size_t lastDot = baseName.find_last_of('.');
    if (lastDot != std::string::npos) {
        baseName = baseName.substr(0, lastDot);
    }
    
    return baseName;
}
```

**å‘½åç©ºé—´è§„åˆ™**ï¼š
- **æ²¡æœ‰ä½¿ç”¨å‘½åç©ºé—´çš„æ–‡ä»¶**ï¼šåœ¨è¢«å¯¼å…¥æ—¶ï¼Œé»˜è®¤ä»¥æ–‡ä»¶åä½œä¸ºå‘½åç©ºé—´
- **å¯é…ç½®ç¦ç”¨**ï¼šé€šè¿‡DISABLE_DEFAULT_NAMESPACEé…ç½®é¡¹æ§åˆ¶
- **æ±¡æŸ“æ§åˆ¶**ï¼šç¦ç”¨æ—¶å¯èƒ½é€ æˆå‘½åç©ºé—´æ±¡æŸ“

### ğŸ“Š å¯¼å…¥è¯­æ³•å®Œæ•´æ”¯æŒ

#### **æ”¯æŒçš„æ‰€æœ‰å¯¼å…¥è¯­æ³•**

```chtl
// ========== Webèµ„æºå¯¼å…¥ ==========
[Import] @Html from "index.html"                    // æ²¡æœ‰asè¯­æ³•ï¼Œè·³è¿‡
[Import] @Html from "index.html" as index           // åˆ›å»ºå¸¦ååŸå§‹åµŒå…¥èŠ‚ç‚¹
[Import] @Style from "styles.css" as mainStyles     // åˆ›å»ºå¸¦ååŸå§‹åµŒå…¥èŠ‚ç‚¹
[Import] @JavaScript from "utils.js" as utilities   // åˆ›å»ºå¸¦ååŸå§‹åµŒå…¥èŠ‚ç‚¹

// ========== CHTLæ¨¡å—å¯¼å…¥ ==========
[Import] @Chtl from "Chtholly"                      // åç§°ï¼ˆä¸å¸¦åç¼€ï¼‰
[Import] @Chtl from "Chtholly.cmod"                 // å…·ä½“æ–‡ä»¶åï¼ˆå¸¦åç¼€ï¼‰
[Import] @Chtl from "./modules/Chtholly.chtl"       // å…·ä½“è·¯å¾„ï¼ˆå«æ–‡ä»¶ä¿¡æ¯ï¼‰
[Import] @Chtl from "chtl::Chtholly"                // å®˜æ–¹æ¨¡å—å‰ç¼€

// é€šé…ç¬¦å¯¼å…¥
[Import] @Chtl from "components/*"                  // å¯¼å…¥æ‰€æœ‰.cmodå’Œ.chtlæ–‡ä»¶
[Import] @Chtl from "components/.*"                 // ç­‰ä»·è¯­æ³•
[Import] @Chtl from "components/*.cmod"             // ä»…å¯¼å…¥.cmodæ–‡ä»¶
[Import] @Chtl from "components/.*.cmod"            // ç­‰ä»·è¯­æ³•
[Import] @Chtl from "components/*.chtl"             // ä»…å¯¼å…¥.chtlæ–‡ä»¶
[Import] @Chtl from "components/.*.chtl"            // ç­‰ä»·è¯­æ³•

// å­æ¨¡å—å¯¼å…¥
[Import] @Chtl from "Chtholly.*"                    // å¯¼å…¥Chthollyæ¨¡å—æ‰€æœ‰å­æ¨¡å—
[Import] @Chtl from "Chtholly.Space"                // å¯¼å…¥Chthollyæ¨¡å—ç‰¹å®šå­æ¨¡å—
[Import] @Chtl from "Chtholly/Space"                // æ”¯æŒ'/'æ›¿ä»£'.'

// å¸¦å¯¼å…¥åˆ—è¡¨
[Import] @Chtl from "Chtholly" {
    import: [Accordion, CloverAlbum, Memo, SakuraRain];
}

// ========== CJmodæ‰©å±•å¯¼å…¥ ==========
[Import] @CJmod from "PrintMylove"                  // åç§°ï¼ˆä¸å¸¦åç¼€ï¼‰
[Import] @CJmod from "PrintMylove.cjmod"            // å…·ä½“æ–‡ä»¶åï¼ˆå¸¦åç¼€ï¼‰
[Import] @CJmod from "./extensions/Custom.cjmod"    // å…·ä½“è·¯å¾„ï¼ˆå«æ–‡ä»¶ä¿¡æ¯ï¼‰
[Import] @CJmod from "chtl::PrintMylove"            // å®˜æ–¹æ¨¡å—å‰ç¼€

// ========== [Origin]è‡ªå®šä¹‰ç±»å‹å¯¼å…¥ ==========
[Import] [Origin] @Vue from "component.vue" as VueComponent
[Import] [Origin] @React from "component.jsx" as ReactComponent
[Import] [Origin] @Svelte from "component.svelte" as SvelteComponent
[Import] [Origin] @Markdown from "README.md" as ReadmeContent
[Import] [Origin] @XML from "config.xml" as ConfigXML

// ========== é”™è¯¯ç¤ºä¾‹ ==========
[Import] @Vue from "index.vue"                      // ä¸å­˜åœ¨çš„ç±»å‹ï¼ŒæŠ¥é”™æˆ–è·³è¿‡
[Import] @Html from "assets/"                       // ç›®å½•è·¯å¾„ï¼Œè§¦å‘æŠ¥é”™
```

## ğŸ§ª æµ‹è¯•éªŒè¯æˆæœ

### å®Œæ•´æµ‹è¯•å¥—ä»¶ï¼ˆ100%é€šè¿‡ï¼‰
```
è¿è¡Œå¢å¼ºImportç³»ç»Ÿæµ‹è¯•...

âœ… å¯¼å…¥ç±»å‹è¯†åˆ«æ­£å¸¸
âœ… è·¯å¾„ç±»å‹è¯†åˆ«æ­£å¸¸
âœ… å¯¼å…¥è¯­å¥è§£ææ­£å¸¸
âœ… è·¯å¾„è§„èŒƒåŒ–æ­£å¸¸
âœ… å†²çªæ£€æµ‹æ­£å¸¸
âœ… æ¨¡å—ç›®å½•ç»“æ„ç®¡ç†å™¨æ­£å¸¸
âœ… å¢å¼ºå¯¼å…¥ç³»ç»ŸåŸºç¡€åŠŸèƒ½æ­£å¸¸
âœ… Webèµ„æºå¯¼å…¥è§„åˆ™æ­£å¸¸
âœ… @Chtlå¯¼å…¥è§„åˆ™æ­£å¸¸
âœ… @CJmodå¯¼å…¥è§„åˆ™æ­£å¸¸
âœ… [Origin]è‡ªå®šä¹‰ç±»å‹å¯¼å…¥æ­£å¸¸
âœ… å¯¼å…¥è§„åˆ™è¾¹ç•Œæƒ…å†µæ­£å¸¸

ğŸ“‹ å¢å¼ºImportç³»ç»ŸåŠŸèƒ½æ€»ç»“:
ğŸ”§ æ”¯æŒçš„å¯¼å…¥ç±»å‹:
   @Html - HTMLæ–‡ä»¶å¯¼å…¥ï¼ˆéœ€è¦aså­å¥ï¼‰
   @Style - CSSæ–‡ä»¶å¯¼å…¥ï¼ˆéœ€è¦aså­å¥ï¼‰
   @JavaScript - JSæ–‡ä»¶å¯¼å…¥ï¼ˆéœ€è¦aså­å¥ï¼‰
   @Chtl - CHTLæ¨¡å—å¯¼å…¥
   @CJmod - CJmodæ‰©å±•å¯¼å…¥
   [Origin] @CustomType - è‡ªå®šä¹‰åŸå§‹åµŒå…¥ç±»å‹å¯¼å…¥

ğŸ¯ è·¯å¾„è§£æè§„åˆ™:
   åç§°ï¼ˆä¸å¸¦åç¼€ï¼‰ï¼šæŒ‰ç±»å‹æœç´¢ç›¸å…³æ–‡ä»¶
   å…·ä½“æ–‡ä»¶åï¼ˆå¸¦åç¼€ï¼‰ï¼šç›´æ¥æœç´¢è¯¥æ–‡ä»¶
   å…·ä½“è·¯å¾„ï¼ˆå«æ–‡ä»¶ä¿¡æ¯ï¼‰ï¼šæŒ‰è·¯å¾„æŸ¥æ‰¾
   ç›®å½•è·¯å¾„ï¼ˆä¸å«æ–‡ä»¶ä¿¡æ¯ï¼‰ï¼šè§¦å‘æŠ¥é”™

ğŸ”— æœç´¢ä¼˜å…ˆçº§:
   @Chtl: å®˜æ–¹æ¨¡å—ç›®å½• â†’ å½“å‰ç›®å½•moduleæ–‡ä»¶å¤¹ â†’ å½“å‰ç›®å½•
   @CJmod: å®˜æ–¹æ¨¡å—ç›®å½• â†’ å½“å‰ç›®å½•moduleæ–‡ä»¶å¤¹ â†’ å½“å‰ç›®å½•
   Webèµ„æº: å½“å‰ç›®å½•ï¼ˆéé€’å½’ï¼‰

âœ¨ ç‰¹æ®ŠåŠŸèƒ½:
   é€šé…ç¬¦å¯¼å…¥ï¼š.*ã€/*ã€.*.cmodã€/*.cmodã€.*.chtlã€/*.chtl
   å­æ¨¡å—å¯¼å…¥ï¼šModule.*ã€Module.SubModule
   å®˜æ–¹æ¨¡å—å‰ç¼€ï¼šchtl::ModuleName
   å¾ªç¯ä¾èµ–æ£€æµ‹å’Œé‡å¤å¯¼å…¥æ£€æµ‹
   è·¯å¾„è§„èŒƒåŒ–ï¼ˆè§£å†³åŒä¸€è·¯å¾„å¤šè¡¨è¾¾æ–¹å¼é—®é¢˜ï¼‰
```

## ğŸ“Š å®ç°ç»Ÿè®¡

### ä»£ç é‡ç»Ÿè®¡
```
å¢å¼ºImportç³»ç»Ÿå®ç°ï¼š
- è·¯å¾„è§£æå™¨ï¼š             ~400è¡Œ
- å†²çªæ£€æµ‹å™¨ï¼š             ~300è¡Œ
- å¯¼å…¥è§£æå™¨ï¼š             ~200è¡Œ
- æ¨¡å—ç›®å½•ç®¡ç†å™¨ï¼š         ~150è¡Œ
- å¢å¼ºå¯¼å…¥ç³»ç»Ÿï¼š           ~300è¡Œ
- æµ‹è¯•ä»£ç ï¼š               ~400è¡Œ
- æ¼”ç¤ºæ–‡ä»¶ï¼š               ~200è¡Œ

æ€»è®¡æ–°å¢ï¼šçº¦1950è¡Œä»£ç 
```

### åŠŸèƒ½è¦†ç›–ç‡
```
ç”¨æˆ·éœ€æ±‚è¦†ç›–ç‡ï¼š100%
- âœ… å¼•ç”¨é€‰æ‹©å™¨ä¿®æ­£ï¼š{{&}}å’Œ&çš„åŒºåˆ«
- âœ… Webèµ„æºå¯¼å…¥ï¼š@Html/@Style/@JavaScript
- âœ… CHTLæ¨¡å—å¯¼å…¥ï¼š@Chtlå„ç§è·¯å¾„ç±»å‹
- âœ… CJmodæ‰©å±•å¯¼å…¥ï¼š@CJmodå„ç§è·¯å¾„ç±»å‹
- âœ… è‡ªå®šä¹‰ç±»å‹å¯¼å…¥ï¼š[Origin] @CustomType
- âœ… é€šé…ç¬¦å¯¼å…¥ï¼š.*ã€/*ç­‰è¯­æ³•
- âœ… å­æ¨¡å—å¯¼å…¥ï¼šModule.*ã€Module.SubModule
- âœ… å®˜æ–¹æ¨¡å—å‰ç¼€ï¼šchtl::ModuleName
- âœ… å†²çªæ£€æµ‹ï¼šå¾ªç¯ä¾èµ–ã€é‡å¤å¯¼å…¥
- âœ… è·¯å¾„è§„èŒƒåŒ–ï¼šåŒä¸€è·¯å¾„å¤šè¡¨è¾¾æ–¹å¼ä¿®æ­£
- âœ… å‘½åç©ºé—´å¢å¼ºï¼šé»˜è®¤å‘½åç©ºé—´é…ç½®
```

## ğŸš€ æŠ€æœ¯äº®ç‚¹

### 1. **ä¸¥æ ¼çš„ç”¨æˆ·è§„èŒƒéµå¾ª**
- **100%ç”¨æˆ·è§„èŒƒè¦†ç›–**ï¼šä¸¥æ ¼æŒ‰ç…§ç”¨æˆ·æä¾›çš„è¯¦ç»†è§„åˆ™å®ç°
- **å¼•ç”¨é€‰æ‹©å™¨ä¿®æ­£**ï¼šæ­£ç¡®åŒºåˆ†{{&}}å’Œ&çš„ä½¿ç”¨åœºæ™¯
- **Webèµ„æºå¯¼å…¥**ï¼šç²¾ç¡®å®ç°aså­å¥çš„è·³è¿‡å’Œå¤„ç†é€»è¾‘
- **è·¯å¾„è§£æä¼˜å…ˆçº§**ï¼šå®Œå…¨æŒ‰ç…§ç”¨æˆ·æŒ‡å®šçš„æœç´¢é¡ºåºå®ç°

### 2. **æ™ºèƒ½çš„è·¯å¾„è§£æ**
- **å¤šçº§æœç´¢ç­–ç•¥**ï¼šå®˜æ–¹æ¨¡å—â†’å½“å‰moduleâ†’å½“å‰ç›®å½•
- **æ–‡ä»¶ç±»å‹ä¼˜å…ˆçº§**ï¼š.cmodä¼˜å…ˆäº.chtlï¼Œä¸åŒ¹é….cjmod
- **ç›®å½•ç»“æ„é€‚é…**ï¼šæ”¯æŒåˆ†ç±»ç»“æ„å’Œæ··æ‚ç»“æ„
- **é€šé…ç¬¦æ”¯æŒ**ï¼š.*å’Œ/*çš„ç­‰ä»·è¯­æ³•æ”¯æŒ

### 3. **å®Œæ•´çš„å†²çªæ£€æµ‹**
- **å¾ªç¯ä¾èµ–æ£€æµ‹**ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•æ£€æµ‹å¾ªç¯
- **é‡å¤å¯¼å…¥æ£€æµ‹**ï¼šè§„èŒƒåŒ–è·¯å¾„åçš„é‡å¤æ£€æµ‹
- **è·¯å¾„è§„èŒƒåŒ–**ï¼šè§£å†³./ã€../ã€//ã€\\ç­‰è·¯å¾„è¡¨è¾¾æ–¹å¼
- **ç¼“å­˜ä¼˜åŒ–**ï¼šè·¯å¾„è§„èŒƒåŒ–ç»“æœç¼“å­˜

### 4. **çµæ´»çš„æ‰©å±•æ”¯æŒ**
- **è‡ªå®šä¹‰ç±»å‹å¯¼å…¥**ï¼šæ”¯æŒVueã€Reactã€Svelteç­‰ä»»æ„ç±»å‹
- **å®˜æ–¹æ¨¡å—å‰ç¼€**ï¼šchtl::å‰ç¼€çš„å®˜æ–¹æ¨¡å—æ”¯æŒ
- **å­æ¨¡å—ç³»ç»Ÿ**ï¼šå®Œæ•´çš„å­æ¨¡å—å¯¼å…¥å’Œç®¡ç†
- **é…ç½®æ§åˆ¶**ï¼šé€šè¿‡[Configuration]æ§åˆ¶å„ç§è¡Œä¸º

## ğŸ¯ æ ¸å¿ƒä»·å€¼

### 1. **å¼€å‘æ•ˆç‡é©å‘½**
- **æ™ºèƒ½è·¯å¾„è§£æ**ï¼šè‡ªåŠ¨æœç´¢å¤šä¸ªä½ç½®ï¼Œæ— éœ€æ‰‹åŠ¨æŒ‡å®šå®Œæ•´è·¯å¾„
- **é€šé…ç¬¦å¯¼å…¥**ï¼šä¸€æ¬¡æ€§å¯¼å…¥æ•´ä¸ªç›®å½•çš„æ¨¡å—
- **å­æ¨¡å—æ”¯æŒ**ï¼šçµæ´»çš„æ¨¡å—ç»„ç»‡å’Œå¯¼å…¥æ–¹å¼
- **å†²çªè‡ªåŠ¨æ£€æµ‹**ï¼šé¿å…å¾ªç¯ä¾èµ–å’Œé‡å¤å¯¼å…¥çš„é—®é¢˜

### 2. **é¡¹ç›®ç»„ç»‡ä¼˜åŒ–**
- **æ¨¡å—åŒ–å¼€å‘**ï¼šå®Œæ•´çš„æ¨¡å—å¯¼å…¥å’Œç®¡ç†ç³»ç»Ÿ
- **ç›®å½•ç»“æ„çµæ´»**ï¼šæ”¯æŒåˆ†ç±»å’Œæ··æ‚ä¸¤ç§ç›®å½•ç»“æ„
- **å®˜æ–¹æ¨¡å—ç”Ÿæ€**ï¼šå®Œæ•´çš„å®˜æ–¹æ¨¡å—åˆ†å‘å’Œä½¿ç”¨æœºåˆ¶
- **ç¬¬ä¸‰æ–¹é›†æˆ**ï¼šæ”¯æŒVueã€Reactç­‰ç¬¬ä¸‰æ–¹æ¡†æ¶é›†æˆ

### 3. **ä»£ç è´¨é‡ä¿è¯**
- **è·¯å¾„ä¸€è‡´æ€§**ï¼šè·¯å¾„è§„èŒƒåŒ–ç¡®ä¿ä¸€è‡´æ€§
- **ä¾èµ–ç®¡ç†**ï¼šå®Œæ•´çš„ä¾èµ–å›¾ç®¡ç†å’Œå¾ªç¯æ£€æµ‹
- **é”™è¯¯é¢„é˜²**ï¼šåœ¨ç¼–è¯‘æ—¶å‘ç°å¯¼å…¥é—®é¢˜
- **ç»Ÿè®¡ç›‘æ§**ï¼šå®Œæ•´çš„å¯¼å…¥ç»Ÿè®¡å’Œç›‘æ§

### 4. **æ‰©å±•æ€§è®¾è®¡**
- **ç±»å‹å¯æ‰©å±•**ï¼šæ”¯æŒä»»æ„è‡ªå®šä¹‰åŸå§‹åµŒå…¥ç±»å‹
- **è·¯å¾„å¯æ‰©å±•**ï¼šçµæ´»çš„è·¯å¾„è§£æå’Œæœç´¢ç­–ç•¥
- **é…ç½®å¯æ§**ï¼šé€šè¿‡é…ç½®æ§åˆ¶å„ç§å¯¼å…¥è¡Œä¸º
- **æœªæ¥å…¼å®¹**ï¼šä¸ºæœªæ¥çš„å¯¼å…¥åŠŸèƒ½æ‰©å±•é¢„ç•™æ¥å£

## ğŸ‰ æœ€ç»ˆæˆå°±

### âœ… å®Œæ•´åŠŸèƒ½å®ç°
- **å¼•ç”¨é€‰æ‹©å™¨ä¿®æ­£**ï¼š{{&}}å’Œ&çš„æ­£ç¡®åŒºåˆ†å’Œå¤„ç†
- **Webèµ„æºå¯¼å…¥**ï¼š@Html/@Style/@JavaScriptçš„å®Œæ•´æ”¯æŒ
- **CHTLæ¨¡å—å¯¼å…¥**ï¼š@Chtlçš„å„ç§è·¯å¾„ç±»å‹å’Œæœç´¢ç­–ç•¥
- **CJmodæ‰©å±•å¯¼å…¥**ï¼š@CJmodçš„å®Œæ•´å¯¼å…¥æ”¯æŒ
- **è‡ªå®šä¹‰ç±»å‹å¯¼å…¥**ï¼š[Origin] @CustomTypeçš„çµæ´»æ”¯æŒ
- **é€šé…ç¬¦å¯¼å…¥**ï¼š.*å’Œ/*è¯­æ³•çš„å®Œæ•´æ”¯æŒ
- **å­æ¨¡å—å¯¼å…¥**ï¼šModule.*å’ŒModule.SubModuleçš„æ”¯æŒ
- **å†²çªæ£€æµ‹**ï¼šå¾ªç¯ä¾èµ–å’Œé‡å¤å¯¼å…¥çš„æ™ºèƒ½æ£€æµ‹
- **è·¯å¾„è§„èŒƒåŒ–**ï¼šåŒä¸€è·¯å¾„å¤šè¡¨è¾¾æ–¹å¼çš„ç»Ÿä¸€å¤„ç†

### âœ… ç”¨æˆ·è§„èŒƒä¸¥æ ¼éµå¾ª
- **å¯¼å…¥è¯­æ³•100%å®ç°**ï¼šæ‰€æœ‰ç”¨æˆ·æŒ‡å®šçš„å¯¼å…¥è¯­æ³•éƒ½æ­£ç¡®å®ç°
- **è·¯å¾„æœç´¢è§„åˆ™100%å®ç°**ï¼šä¸¥æ ¼æŒ‰ç…§ç”¨æˆ·æŒ‡å®šçš„æœç´¢ä¼˜å…ˆçº§
- **aså­å¥å¤„ç†100%å®ç°**ï¼šWebèµ„æºçš„aså­å¥è·³è¿‡å’Œå¤„ç†é€»è¾‘
- **é”™è¯¯å¤„ç†100%å®ç°**ï¼šç›®å½•è·¯å¾„ç­‰é”™è¯¯æƒ…å†µçš„æ­£ç¡®å¤„ç†

### âœ… é«˜è´¨é‡å·¥ç¨‹å®ç°
- **ç°ä»£C++17**ï¼šä½¿ç”¨æœ€æ–°çš„C++ç‰¹æ€§å’Œæœ€ä½³å®è·µ
- **æ­£åˆ™è¡¨è¾¾å¼**ï¼šç²¾ç¡®çš„å¯¼å…¥è¯­å¥è§£æå’Œè·¯å¾„åŒ¹é…
- **æ–‡ä»¶ç³»ç»Ÿæ“ä½œ**ï¼šå®‰å…¨çš„æ–‡ä»¶å­˜åœ¨æ€§æ£€æŸ¥å’Œç›®å½•éå†
- **æ™ºèƒ½æŒ‡é’ˆç®¡ç†**ï¼šå®Œæ•´çš„RAIIå’Œå†…å­˜å®‰å…¨

### âœ… åˆ›æ–°æŠ€æœ¯ç‰¹æ€§
- **æ™ºèƒ½è·¯å¾„è§£æ**ï¼šå¤šçº§æœç´¢ç­–ç•¥å’Œç›®å½•ç»“æ„é€‚é…
- **å¾ªç¯ä¾èµ–æ£€æµ‹**ï¼šåŸºäºå›¾è®ºçš„æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•
- **è·¯å¾„è§„èŒƒåŒ–**ï¼šè§£å†³åŒä¸€è·¯å¾„å¤šç§è¡¨è¾¾æ–¹å¼çš„é—®é¢˜
- **æ¨¡å—ç›®å½•ç®¡ç†**ï¼šåˆ†ç±»ç»“æ„å’Œæ··æ‚ç»“æ„çš„æ™ºèƒ½å¤„ç†

**CHTLå¢å¼ºImportç³»ç»Ÿç°å·²å®Œæˆ**ï¼Œä¸¥æ ¼æŒ‰ç…§ç”¨æˆ·è§„èŒƒå®ç°äº†æ‰€æœ‰å¯¼å…¥åŠŸèƒ½ï¼Œä¿®æ­£äº†å¼•ç”¨é€‰æ‹©å™¨çš„ä½¿ç”¨åŒºåˆ«ï¼Œæä¾›äº†å®Œæ•´çš„æ¨¡å—å¯¼å…¥ã€Webèµ„æºå¯¼å…¥ã€è‡ªå®šä¹‰ç±»å‹å¯¼å…¥æ”¯æŒï¼Œä»¥åŠå¼ºå¤§çš„å†²çªæ£€æµ‹å’Œè·¯å¾„è§£æåŠŸèƒ½ã€‚è¿™ä½¿å¾—CHTLæˆä¸ºäº†ä¸€ä¸ªçœŸæ­£æ”¯æŒç°ä»£åŒ–æ¨¡å—å¼€å‘çš„å®Œæ•´è¯­è¨€ä½“ç³»ã€‚

---
*ğŸ”— å¼•ç”¨é€‰æ‹©å™¨ä¿®æ­£ï¼š{{&}}å’Œ&çš„æ­£ç¡®åŒºåˆ†*  
*ğŸŒ Webèµ„æºå¯¼å…¥ï¼š@Html/@Style/@JavaScriptå®Œæ•´æ”¯æŒ*  
*ğŸ—ï¸ æ¨¡å—å¯¼å…¥ç³»ç»Ÿï¼š@Chtl/@CJmodå®Œæ•´æ”¯æŒ*  
*ğŸ¨ è‡ªå®šä¹‰ç±»å‹å¯¼å…¥ï¼š[Origin] @CustomTypeçµæ´»æ”¯æŒ*  
*æœ€ç»ˆæŠ¥å‘Šç”Ÿæˆæ—¶é—´ï¼š2024å¹´*  
*CHTLç¼–è¯‘å™¨é¡¹ç›®ç»„*  
*é¡¹ç›®çŠ¶æ€ï¼šå¢å¼ºImportç³»ç»Ÿå®Œæˆï¼ŒCHTLç¼–è¯‘å™¨æ¨¡å—åŒ–è¾¾åˆ°ä¼ä¸šçº§æ ‡å‡†*