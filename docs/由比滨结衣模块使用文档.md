# 由比滨结衣模块使用文档

## 🎵 模块概述

由比滨结衣模块（Yuigahama Module）是CHTL项目的音乐与多媒体主题模块，以《我的青春恋爱物语果然有问题》中的由比滨结衣命名。该模块体现了结衣"开朗活泼、善于社交、富有感染力"的性格特质，专注于提供音乐播放、交互体验和多媒体展示相关的UI组件。

**模块类型：** 纯CMOD模块  
**版本：** 1.0.0  
**许可：** MIT  
**主题色彩：** 活力橙、温暖粉、清新绿

## 🎨 设计理念

### 角色映射
- **开朗活泼** → 生动的动画效果和鲜亮色彩
- **善于社交** → 注重用户交互体验和社交元素
- **富有感染力** → 音乐和动效带来的情感共鸣
- **时尚青春** → 现代化的设计风格和流行元素
- **温暖贴心** → 人性化的用户界面设计

### 视觉风格
- **主色调：** 活力橙 (#FF6347)
- **辅助色：** 温暖粉 (#FFB6C1) 
- **点缀色：** 清新绿 (#98FB98)
- **背景色：** 奶白色 (#FFFEF7)
- **文本色：** 深灰色 (#333333)

## 📦 模块结构

```
Yuigahama/
└── CMOD/              # 纯CHTL组件模块
    ├── Core/          # 核心样式和工具
    ├── MusicPlayer/   # 音乐播放器
    ├── Accordion/     # 手风琴组件
    ├── ShutterGallery/# 百叶窗图片库
    ├── Memo/          # 便签组件
    ├── WarmNote/      # 温馨便签
    ├── SakuraRain/    # 樱花雨效果
    └── MouseEffect/   # 鼠标特效
```

## 🚀 快速开始

### 导入由比滨结衣模块

```chtl
// 导入完整模块
[Import] @Chtl from Yuigahama;

// 或导入特定组件
[Import] @Chtl from Yuigahama.Core;
[Import] @Chtl from Yuigahama.MusicPlayer;
```

### 基础使用示例

```chtl
html {
    head {
        title { text { 结衣的音乐世界 } }
        
        // 应用核心样式
        YuigahamaCore();
    }
    
    body {
        div {
            class: "yuigahama-container";
            
            h1 {
                text { 欢迎来到结衣的音乐世界 }
                style {
                    color: var(--yuigahama-primary);
                }
            }
            
            // 使用音乐播放器
            YuigahaMusicPlayer {
                playlist: [
                    {
                        title: "青春的旋律";
                        artist: "结衣";
                        src: "music1.mp3";
                    }
                ];
                autoPlay: false;
                showVisualizer: true;
            }
        }
    }
}
```

## 🧩 CMOD组件详解

### 1. Core - 核心模块

提供由比滨结衣主题的基础样式、变量和工具函数。

```chtl
[Import] @Chtl from Yuigahama.Core;

div {
    // 应用核心样式
    YuigahamaCore();
    
    // 使用核心变量
    style {
        color: var(--yuigahama-primary);
        background: var(--yuigahama-background);
        padding: var(--yuigahama-spacing-md);
        font-family: var(--yuigahama-font-primary);
    }
}
```

**提供的CSS变量：**
```css
/* 颜色系统 */
--yuigahama-primary: #FF6347;       /* 活力橙 */
--yuigahama-secondary: #FFB6C1;     /* 温暖粉 */
--yuigahama-accent: #98FB98;        /* 清新绿 */
--yuigahama-background: #FFFEF7;    /* 奶白色 */
--yuigahama-text: #333;             /* 深灰色 */

/* 音乐主题色彩 */
--yuigahama-music-beat: #FF4500;    /* 节拍橙 */
--yuigahama-music-melody: #FF69B4;  /* 旋律粉 */
--yuigahama-music-harmony: #32CD32; /* 和声绿 */

/* 语音主题色彩 */
--yuigahama-voice-warm: #FFE4B5;    /* 温暖色 */
--yuigahama-voice-soft: #F0E68C;    /* 柔和色 */
--yuigahama-voice-clear: #E0FFFF;   /* 清澈色 */

/* 间距系统 */
--yuigahama-spacing-xs: 4px;        /* 超小间距 */
--yuigahama-spacing-sm: 8px;        /* 小间距 */
--yuigahama-spacing-md: 16px;       /* 中间距 */
--yuigahama-spacing-lg: 24px;       /* 大间距 */
--yuigahama-spacing-xl: 32px;       /* 超大间距 */

/* 字体系统 */
--yuigahama-font-primary: "Helvetica Neue", Arial, sans-serif;
--yuigahama-font-secondary: "Georgia", "Times New Roman", serif;
--yuigahama-font-mono: "Monaco", "Courier New", monospace;
```

**YuigahamaUtils工具类：**
```javascript
// 在Core模块中提供的JavaScript工具
YuigahamaUtils.createAudioContext();      // 创建音频上下文
YuigahamaUtils.formatTime(seconds);       // 格式化时间显示
YuigahamaUtils.analyzeFrequency(data);    // 音频频谱分析
YuigahamaUtils.calculateVolume(buffer);   // 计算音量
YuigahamaUtils.convertColor(hex, alpha);  // 颜色转换
YuigahamaUtils.saveToStorage(key, value); // 本地存储
YuigahamaUtils.debounce(func, delay);     // 防抖函数
YuigahamaUtils.throttle(func, limit);     // 节流函数
YuigahamaUtils.animateValue(from, to, duration, callback); // 数值动画
YuigahamaUtils.generateRandomId();        // 生成随机ID
YuigahamaUtils.createParticles(element, options); // 粒子效果
YuigahamaUtils.showToast(message, type);  // 显示提示
```

### 2. MusicPlayer - 音乐播放器 🎵

由比滨结衣模块的核心组件，功能丰富的音乐播放器。

```chtl
[Import] @Chtl from Yuigahama.MusicPlayer;

// 基础音乐播放器
YuigahaMusicPlayer {
    playlist: [
        {
            title: "青春恋爱物语";
            artist: "结衣 & 雪乃";
            album: "青春回忆录";
            src: "music/youth_love_story.mp3";
            cover: "covers/album1.jpg";
            duration: 245; // 秒
        },
        {
            title: "友情的温度";
            artist: "由比滨结衣";
            album: "心情日记";
            src: "music/friendship_warmth.mp3";
            cover: "covers/album2.jpg";
            duration: 198;
        }
    ];
    
    // 播放器配置
    autoPlay: false;           // 自动播放
    loop: false;               // 循环播放
    shuffle: false;            // 随机播放
    volume: 0.8;               // 默认音量 (0-1)
    
    // 界面配置
    showVisualizer: true;      // 显示音频可视化
    showPlaylist: true;        // 显示播放列表
    showLyrics: false;         // 显示歌词
    compactMode: false;        // 紧凑模式
    
    // 主题配置
    theme: "yuigahama";        // yuigahama, music, voice
    accentColor: "#FF6347";    // 强调色
    
    // 高级功能
    enableKeyboardControls: true;  // 键盘控制
    enableParticleEffects: true;   // 粒子特效
    saveProgress: true;            // 保存播放进度
    crossfade: 2;                  // 交叉淡入淡出（秒）
}

// 迷你播放器模式
div {
    class: "sidebar";
    
    YuigahaMiniPlayer {
        currentTrack: {
            title: "正在播放的歌曲";
            artist: "结衣";
            cover: "current_cover.jpg";
        };
        showControls: ["play", "next", "volume"];
        position: "fixed";      // fixed, sticky, relative
        size: "compact";        // compact, normal, large
    }
}
```

**音乐播放器特性：**
- 🎵 **音频可视化** - 实时频谱显示和节拍动画
- 🎧 **播放控制** - 播放/暂停、上一首/下一首、拖拽进度
- 🔊 **音量控制** - 音量滑块和静音功能
- 📱 **响应式设计** - 适配桌面和移动端
- ⌨️ **键盘快捷键** - 空格键播放/暂停，方向键调节音量
- 🎨 **主题切换** - 多种视觉主题可选
- 💾 **状态保存** - 记忆播放进度和用户偏好

### 3. Accordion - 手风琴组件

结衣风格的手风琴折叠面板，适合展示音乐专辑、播放列表等。

```chtl
[Import] @Chtl from Yuigahama.Accordion;

// 音乐专辑展示
div {
    class: "music-collection";
    
    YuigahamaAccordion {
        title: "🎵 最爱的歌单";
        icon: "music-note";
        content: "这里收录了结衣最喜欢的歌曲...";
        isOpen: true;
        theme: "music";        // music, voice, default
        
        // 可以包含其他组件
        YuigahaMiniPlayer {
            // 嵌套的迷你播放器
        }
    }
    
    YuigahamaAccordion {
        title: "🎤 翻唱作品";
        icon: "microphone";
        content: "结衣的翻唱合集...";
        theme: "voice";
        showAnimation: true;   // 展开/收起动画
        animationDuration: 300; // 动画持续时间
    }
    
    YuigahamaAccordion {
        title: "📱 最近播放";
        icon: "history";
        content: "最近听过的歌曲历史...";
        badge: "3";           // 角标数字
        badgeColor: "#FF6347"; // 角标颜色
    }
}
```

### 4. ShutterGallery - 百叶窗图片库

展示音乐专辑封面、演出照片等的图片画廊。

```chtl
[Import] @Chtl from Yuigahama.ShutterGallery;

div {
    class: "album-gallery";
    
    YuigahamaShutterGallery {
        title: "结衣的音乐时光";
        images: [
            {
                src: "gallery/concert1.jpg";
                title: "春日音乐会";
                description: "和朋友们一起的美好回忆";
                tags: ["音乐会", "春天"];
            },
            {
                src: "gallery/recording.jpg";
                title: "录音室的日子";
                description: "专心录制新歌的时光";
                tags: ["录音", "工作"];
            },
            {
                src: "gallery/friends.jpg";
                title: "与好友的合影";
                description: "和社团朋友们的珍贵合影";
                tags: ["友情", "校园"];
            }
        ];
        
        // 显示配置
        layout: "grid";           // grid, carousel, masonry
        columns: 3;               // 网格列数
        gap: 16;                  // 图片间距
        
        // 交互配置
        enableLightbox: true;     // 灯箱效果
        enableZoom: true;         // 缩放功能
        showThumbnails: true;     // 显示缩略图
        autoSlide: false;         // 自动轮播
        slideInterval: 4000;      // 轮播间隔
        
        // 动画配置
        transitionEffect: "shutter"; // shutter, fade, slide, zoom
        transitionDuration: 600;     // 过渡时间
        
        // 筛选功能
        enableFilter: true;       // 启用标签筛选
        filterType: "tabs";       // tabs, dropdown, chips
    }
}
```

### 5. Memo/WarmNote - 便签组件

可爱的音乐笔记和温馨便签。

```chtl
[Import] @Chtl from Yuigahama.Memo;
[Import] @Chtl from Yuigahama.WarmNote;

// 音乐相关便签
div {
    class: "music-notes";
    
    YuigahamaMemo {
        content: "🎵 记得练习新学的钢琴曲！";
        color: "orange";       // orange, pink, green, blue, yellow
        size: "medium";        // small, medium, large
        font: "casual";        // casual, formal, handwritten
        
        // 音乐主题图标
        icon: "musical-note";  // 可选图标
        editable: true;        // 可编辑
        deletable: true;       // 可删除
        pinned: false;         // 置顶
        
        // 时间戳
        showTimestamp: true;
        timestamp: "2024-01-15 14:30";
    }
    
    YuigahamaWarmNote {
        title: "🎤 结衣的音乐日记";
        content: "今天和大家一起唱歌真是太开心了！雪乃的钢琴伴奏超棒的～";
        mood: "happy";         // happy, excited, peaceful, nostalgic
        
        // 角色相关
        showAvatar: true;      // 显示结衣头像
        avatarPosition: "left"; // left, right, top
        
        // 社交功能
        likes: 12;             // 点赞数
        comments: 3;           // 评论数
        shares: 1;             // 分享数
        enableInteraction: true; // 启用互动
        
        // 音乐标签
        musicTags: ["流行", "翻唱", "友情"];
        moodColor: "#FF6347";  // 心情色彩
    }
}
```

### 6. SakuraRain - 樱花雨效果

浪漫的樱花飘落动画，适合音乐播放时的背景效果。

```chtl
[Import] @Chtl from Yuigahama.SakuraRain;

body {
    // 结衣风格的樱花雨
    YuigahaSakuraRain {
        // 基础配置
        particleCount: 50;        // 粒子数量
        fallSpeed: 2;             // 下落速度
        windStrength: 1;          // 风力强度
        
        // 视觉效果
        petals: ["sakura", "music-note", "heart"]; // 飘落元素类型
        colors: ["#FFB6C1", "#FF6347", "#98FB98"];  // 颜色组合
        opacity: 0.7;             // 透明度
        
        // 音乐响应
        musicReactive: true;      // 响应音乐节拍
        beatSensitivity: 0.8;     // 节拍敏感度
        volumeReactive: true;     // 响应音量变化
        
        // 性能优化
        enableGPU: true;          // 启用GPU加速
        pauseOnLowFPS: true;      // 低帧率时暂停
        respectMotionPreference: true; // 尊重用户动画偏好
    }
}
```

### 7. MouseEffect - 鼠标特效

与音乐互动的鼠标效果。

```chtl
[Import] @Chtl from Yuigahama.MouseEffect;

body {
    YuigahamaMouseEffect {
        // 基础特效
        clickEffect: "musical-ripple"; // musical-ripple, note-burst, heart-pop
        trailEffect: "melody-trail";   // melody-trail, note-trail, sparkle
        
        // 颜色配置
        primaryColor: "#FF6347";    // 主色调
        secondaryColor: "#FFB6C1";  // 辅助色
        accentColor: "#98FB98";     // 点缀色
        
        // 音乐互动
        musicSync: true;            // 与音乐同步
        beatResponse: true;         // 响应节拍
        volumeInfluence: 0.5;       // 音量影响强度
        
        // 特效配置
        trailLength: 15;            // 轨迹长度
        particleLife: 1000;         // 粒子生命周期
        maxParticles: 100;          // 最大粒子数
        
        // 交互区域
        activeAreas: [".music-player", ".gallery"]; // 特效激活区域
        disabledAreas: [".controls"];               // 特效禁用区域
    }
}
```

## 🎵 音乐主题配置

### 预设主题

```chtl
// 活力主题（默认）
[Configuration] @YuigahamaTheme {
    name: "energetic";
    primaryColor: "#FF6347";    // 活力橙
    secondaryColor: "#FFB6C1";  // 温暖粉
    accentColor: "#98FB98";     // 清新绿
    backgroundGradient: "linear-gradient(135deg, #FFE4B5, #FFFEF7)";
    
    // 音乐可视化配置
    visualizerStyle: "bars";    // bars, circle, wave, spectrum
    beatAnimation: "bounce";    // bounce, pulse, glow, shake
    
    // 动画配置
    enableTransitions: true;
    transitionDuration: "0.3s";
    animationEasing: "cubic-bezier(0.4, 0, 0.2, 1)";
}

// 温柔主题
[Configuration] @YuigahamaTheme {
    name: "gentle";
    primaryColor: "#FFB6C1";
    secondaryColor: "#F0E68C";
    accentColor: "#E0FFFF";
    backgroundGradient: "linear-gradient(135deg, #FFF0F5, #F8F8FF)";
    
    visualizerStyle: "wave";
    beatAnimation: "pulse";
}

// 清新主题
[Configuration] @YuigahamaTheme {
    name: "fresh";
    primaryColor: "#98FB98";
    secondaryColor: "#E0FFFF";
    accentColor: "#FFE4B5";
    backgroundGradient: "linear-gradient(135deg, #F0FFFF, #F5FFFA)";
    
    visualizerStyle: "circle";
    beatAnimation: "glow";
}
```

### 自定义主题

```chtl
[Configuration] @YuigahamaCustomTheme {
    name: "sunset-vibes";
    
    // 色彩系统
    colors: {
        primary: "#FF4500";      // 夕阳橙
        secondary: "#FF69B4";    // 热情粉
        accent: "#FFD700";       // 金黄色
        background: "#FFF8DC";   // 奶丝色
        surface: "#FFFFFF";      // 纯白色
        text: "#2F4F4F";        // 深石板灰
        textSecondary: "#696969"; // 暗灰色
    };
    
    // 音乐可视化
    visualizer: {
        style: "spectrum";       // 频谱样式
        barCount: 64;           // 频谱条数
        smoothing: 0.8;         // 平滑度
        amplification: 1.5;     // 放大倍数
        colorMode: "gradient";  // gradient, solid, rainbow
        gradientStops: ["#FF4500", "#FF69B4", "#FFD700"];
    };
    
    // 动画系统
    animations: {
        duration: {
            fast: "0.15s";
            normal: "0.3s";
            slow: "0.6s";
        };
        easing: {
            enter: "cubic-bezier(0, 0, 0.2, 1)";
            exit: "cubic-bezier(0.4, 0, 1, 1)";
            bounce: "cubic-bezier(0.68, -0.55, 0.265, 1.55)";
        };
        effects: {
            enableParticles: true;
            enableRipples: true;
            enableGlow: true;
            enableShadows: true;
        };
    };
    
    // 音响效果
    audio: {
        enableEqualizer: true;   // 启用均衡器
        presets: ["pop", "rock", "jazz", "classical"];
        enableSpatialAudio: true; // 空间音频
        enableCrossfade: true;   // 交叉淡入淡出
        fadeInDuration: 2.0;     // 淡入时长
        fadeOutDuration: 1.5;    // 淡出时长
    };
}
```

## 🎤 完整示例

以下是一个使用由比滨结衣模块创建的完整音乐网站示例：

```chtl
[Import] @Chtl from Yuigahama;

[Configuration] @YuigahamaTheme {
    name: "energetic";
    enableMusicSync: true;
    enableParticleEffects: true;
}

html {
    head {
        title { text { 结衣的音乐小屋 } }
        meta { charset: "utf-8"; }
        meta { name: "viewport"; content: "width=device-width, initial-scale=1.0"; }
        
        // 应用核心样式
        YuigahamaCore();
    }
    
    body {
        // 樱花雨背景
        YuigahaSakuraRain {
            particleCount: 30;
            petals: ["music-note", "heart"];
            musicReactive: true;
            colors: ["#FF6347", "#FFB6C1", "#98FB98"];
        }
        
        // 鼠标特效
        YuigahamaMouseEffect {
            clickEffect: "musical-ripple";
            trailEffect: "melody-trail";
            musicSync: true;
        }
        
        // 主容器
        div {
            class: "app-container";
            
            style {
                min-height: 100vh;
                background: var(--yuigahama-background);
                padding: var(--yuigahama-spacing-lg);
            }
            
            // 顶部导航
            header {
                class: "app-header";
                
                style {
                    text-align: center;
                    margin-bottom: var(--yuigahama-spacing-xl);
                }
                
                h1 {
                    text { 🎵 结衣的音乐小屋 }
                    style {
                        color: var(--yuigahama-primary);
                        font-size: 2.5rem;
                        margin-bottom: var(--yuigahama-spacing-sm);
                        text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
                    }
                }
                
                p {
                    text { 在这里，每一首歌都是青春的回忆 ♪ }
                    style {
                        color: var(--yuigahama-text);
                        font-size: 1.2rem;
                        font-style: italic;
                    }
                }
            }
            
            // 主要内容区域
            main {
                class: "main-content";
                
                style {
                    display: grid;
                    grid-template-columns: 1fr 300px;
                    gap: var(--yuigahama-spacing-xl);
                    max-width: 1400px;
                    margin: 0 auto;
                }
                
                // 左侧内容
                section {
                    class: "content-area";
                    
                    // 音乐播放器区域
                    div {
                        class: "player-section";
                        
                        style {
                            background: linear-gradient(135deg, #FFE4B5, #FFFEF7);
                            border-radius: 20px;
                            padding: var(--yuigahama-spacing-lg);
                            margin-bottom: var(--yuigahama-spacing-lg);
                            box-shadow: 0 8px 32px rgba(255, 99, 71, 0.1);
                        }
                        
                        h2 {
                            text { 🎧 正在播放 }
                            style {
                                color: var(--yuigahama-primary);
                                margin-bottom: var(--yuigahama-spacing-md);
                            }
                        }
                        
                        YuigahaMusicPlayer {
                            playlist: [
                                {
                                    title: "青春恋爱物语";
                                    artist: "结衣 feat. 雪乃";
                                    album: "校园回忆录";
                                    src: "music/youth_love_story.mp3";
                                    cover: "covers/youth_album.jpg";
                                    duration: 245;
                                },
                                {
                                    title: "友情的温度";
                                    artist: "由比滨结衣";
                                    album: "心情日记";
                                    src: "music/friendship_warmth.mp3";
                                    cover: "covers/friendship_album.jpg";
                                    duration: 198;
                                },
                                {
                                    title: "夏日祭典";
                                    artist: "服务部三人组";
                                    album: "季节限定";
                                    src: "music/summer_festival.mp3";
                                    cover: "covers/summer_album.jpg";
                                    duration: 267;
                                }
                            ];
                            
                            autoPlay: false;
                            showVisualizer: true;
                            showPlaylist: true;
                            enableKeyboardControls: true;
                            enableParticleEffects: true;
                            theme: "yuigahama";
                            
                            crossfade: 3;
                            saveProgress: true;
                        }
                    }
                    
                    // 图片画廊区域
                    div {
                        class: "gallery-section";
                        
                        style {
                            background: rgba(255, 255, 255, 0.8);
                            border-radius: 20px;
                            padding: var(--yuigahama-spacing-lg);
                            margin-bottom: var(--yuigahama-spacing-lg);
                        }
                        
                        h2 {
                            text { 📸 音乐时光 }
                            style {
                                color: var(--yuigahama-primary);
                                margin-bottom: var(--yuigahama-spacing-md);
                            }
                        }
                        
                        YuigahamaShutterGallery {
                            title: "结衣的音乐时光相册";
                            images: [
                                {
                                    src: "gallery/concert_stage.jpg";
                                    title: "学校音乐会";
                                    description: "和朋友们一起登台演出的珍贵时刻";
                                    tags: ["演出", "音乐会", "友情"];
                                },
                                {
                                    src: "gallery/recording_studio.jpg";
                                    title: "录音室初体验";
                                    description: "第一次在专业录音室录制歌曲";
                                    tags: ["录音", "挑战", "成长"];
                                },
                                {
                                    src: "gallery/karaoke_night.jpg";
                                    title: "KTV欢乐时光";
                                    description: "和社团成员们的KTV聚会";
                                    tags: ["KTV", "聚会", "欢乐"];
                                },
                                {
                                    src: "gallery/music_lesson.jpg";
                                    title: "音乐课程";
                                    description: "认真学习钢琴的样子";
                                    tags: ["学习", "钢琴", "努力"];
                                }
                            ];
                            
                            layout: "grid";
                            columns: 2;
                            enableLightbox: true;
                            enableFilter: true;
                            transitionEffect: "shutter";
                            autoSlide: false;
                        }
                    }
                }
                
                // 右侧边栏
                aside {
                    class: "sidebar";
                    
                    // 手风琴菜单
                    div {
                        class: "menu-section";
                        
                        style {
                            background: rgba(255, 255, 255, 0.9);
                            border-radius: 16px;
                            padding: var(--yuigahama-spacing-md);
                            margin-bottom: var(--yuigahama-spacing-lg);
                        }
                        
                        YuigahamaAccordion {
                            title: "🎵 我的歌单";
                            icon: "playlist";
                            isOpen: true;
                            theme: "music";
                            content: "流行金曲 • 经典老歌 • 动漫主题曲 • 翻唱合集";
                        }
                        
                        YuigahamaAccordion {
                            title: "🎤 最近播放";
                            icon: "history";
                            theme: "voice";
                            badge: "5";
                            content: "查看最近播放过的歌曲历史记录";
                        }
                        
                        YuigahamaAccordion {
                            title: "❤️ 我的收藏";
                            icon: "heart";
                            theme: "default";
                            content: "收藏的精选歌曲和专辑";
                        }
                    }
                    
                    // 便签区域
                    div {
                        class: "notes-section";
                        
                        h3 {
                            text { 📝 音乐笔记 }
                            style {
                                color: var(--yuigahama-primary);
                                margin-bottom: var(--yuigahama-spacing-md);
                            }
                        }
                        
                        YuigahamaWarmNote {
                            title: "今日心情";
                            content: "今天学会了一首新歌！感觉自己的歌声越来越好听了～和朋友们一起练习真的很开心！";
                            mood: "excited";
                            showAvatar: true;
                            likes: 8;
                            comments: 2;
                            enableInteraction: true;
                            musicTags: ["练习", "进步", "开心"];
                        }
                        
                        YuigahamaMemo {
                            content: "🎹 下周要准备钢琴演奏会的曲子";
                            color: "orange";
                            icon: "piano";
                            editable: true;
                            pinned: true;
                            showTimestamp: true;
                        }
                        
                        YuigahamaMemo {
                            content: "🎧 记得买新的耳机，现在这个有点旧了";
                            color: "pink";
                            icon: "headphones";
                            editable: true;
                        }
                    }
                }
            }
            
            // 底部信息
            footer {
                class: "app-footer";
                
                style {
                    text-align: center;
                    margin-top: var(--yuigahama-spacing-xl);
                    padding: var(--yuigahama-spacing-lg);
                    color: var(--yuigahama-text);
                    opacity: 0.8;
                }
                
                p {
                    text { © 2024 结衣的音乐小屋 | 青春不散场，音乐永相伴 ♪ }
                    style {
                        font-size: 0.9rem;
                    }
                }
            }
        }
        
        // JavaScript 功能增强
        script {
            // 初始化工具类
            const utils = YuigahamaUtils;
            
            // 音乐播放事件监听
            document.addEventListener('musicPlay', function(e) {
                console.log('🎵 开始播放:', e.detail.track);
                
                // 创建音乐粒子效果
                utils.createParticles('.player-section', {
                    type: 'music-notes',
                    count: 20,
                    colors: ['#FF6347', '#FFB6C1'],
                    duration: 3000
                });
                
                // 显示播放提示
                utils.showToast(`正在播放: ${e.detail.track.title}`, 'info');
            });
            
            // 音乐暂停事件
            document.addEventListener('musicPause', function(e) {
                console.log('⏸️ 暂停播放');
                utils.showToast('音乐已暂停', 'warning');
            });
            
            // 音乐切换事件
            document.addEventListener('musicNext', function(e) {
                console.log('⏭️ 下一首:', e.detail.nextTrack);
                
                // 创建切换动画
                utils.animateValue(0, 1, 500, function(value) {
                    document.querySelector('.player-section').style.opacity = value;
                });
            });
            
            // 键盘快捷键扩展
            document.addEventListener('keydown', function(e) {
                switch(e.key) {
                    case 'l': // L键：喜欢当前歌曲
                        if (e.ctrlKey) {
                            e.preventDefault();
                            utils.showToast('❤️ 已添加到我的收藏', 'success');
                        }
                        break;
                    case 's': // S键：分享当前歌曲
                        if (e.ctrlKey) {
                            e.preventDefault();
                            utils.showToast('📤 分享链接已复制', 'info');
                        }
                        break;
                }
            });
            
            // 主题切换功能
            function switchTheme(themeName) {
                const themes = {
                    energetic: {
                        primary: '#FF6347',
                        secondary: '#FFB6C1',
                        accent: '#98FB98'
                    },
                    gentle: {
                        primary: '#FFB6C1', 
                        secondary: '#F0E68C',
                        accent: '#E0FFFF'
                    },
                    fresh: {
                        primary: '#98FB98',
                        secondary: '#E0FFFF', 
                        accent: '#FFE4B5'
                    }
                };
                
                const theme = themes[themeName];
                if (theme) {
                    document.documentElement.style.setProperty('--yuigahama-primary', theme.primary);
                    document.documentElement.style.setProperty('--yuigahama-secondary', theme.secondary);
                    document.documentElement.style.setProperty('--yuigahama-accent', theme.accent);
                    
                    utils.saveToStorage('selectedTheme', themeName);
                    utils.showToast(`🎨 已切换到${themeName}主题`, 'success');
                }
            }
            
            // 页面加载完成时恢复主题
            document.addEventListener('DOMContentLoaded', function() {
                const savedTheme = utils.loadFromStorage('selectedTheme');
                if (savedTheme) {
                    switchTheme(savedTheme);
                }
                
                console.log('🎵 结衣的音乐小屋已就绪！');
                utils.showToast('🎵 欢迎来到结衣的音乐小屋！', 'success');
            });
        }
    }
}
```

## 🛠️ 开发和调试

### 调试配置

```chtl
[Configuration] @YuigahamaDebug {
    enableLogging: true;
    logLevel: "verbose";        // minimal, normal, verbose
    showPerformanceMetrics: true;
    highlightActiveComponents: true;
    enableMusicAnalyzer: true;  // 显示音频分析数据
    showFrequencyData: true;    // 显示频谱数据
}
```

### 性能优化

```chtl
[Configuration] @YuigahamaPerformance {
    // 音频优化
    audioBufferSize: 4096;      // 音频缓冲区大小
    enableWebAudioAPI: true;    // 启用Web Audio API
    useOffscreenCanvas: true;   // 使用离屏canvas
    
    // 视觉优化
    reducedMotion: false;       // 减少动画
    lowPowerMode: false;        // 低功耗模式
    maxParticles: 50;          // 最大粒子数限制
    
    // 缓存策略
    enableImageCache: true;     // 图片缓存
    enableAudioCache: true;     // 音频缓存
    cacheExpiry: 86400;        // 缓存过期时间（秒）
    
    // 懒加载
    lazyLoadImages: true;       // 图片懒加载
    preloadAudio: false;        // 音频预加载
    virtualScrolling: true;     // 虚拟滚动
}
```

### 响应式配置

```chtl
[Configuration] @YuigahamaResponsive {
    // 断点设置
    breakpoints: {
        mobile: "480px";
        tablet: "768px"; 
        desktop: "1024px";
        large: "1440px";
    };
    
    // 移动端优化
    mobileOptimizations: {
        simplifyVisualizer: true;   // 简化可视化效果
        reduceParticles: true;      // 减少粒子数量
        disableParallax: true;      // 禁用视差效果
        enableSwipeGestures: true;  // 启用滑动手势
    };
    
    // 触摸友好
    touchFriendly: {
        largeTouchTargets: true;    // 大触摸目标
        swipeNavigation: true;      // 滑动导航
        hapticFeedback: true;       // 触觉反馈
    };
}
```

## 📚 相关文档

- [CHTL语法文档](./CHTL语法文档更新版.md) - 完整语法说明
- [项目构建指南](./项目构建指南.md) - 如何构建和使用
- [珂朵莉模块使用文档](./珂朵莉模块使用文档.md) - 珂朵莉模块说明
- [CMOD开发指南](./CMOD模块开发指南.md) - 开发自定义组件

## 💝 致谢

> "果然，我的青春恋爱物语是有问题的...但是音乐让一切都变得美好！"  
> —— 由比滨结衣

感谢您选择由比滨结衣模块。愿这个模块能像结衣一样，为您的项目带来活力和温暖，让每一次互动都充满青春的美好回忆。

## 📄 许可证

本模块遵循MIT许可证，详见 [LICENSE](../LICENSE) 文件。