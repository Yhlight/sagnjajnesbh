// ç‚æœµè‰ä¸ç”±æ¯”æ»¨ç»“è¡£çš„ä¸–ç•Œ - å®Œæ•´æ¼”ç¤º
// å±•ç¤ºCMOD + CJMODæ··åˆæ¨¡å—çš„å¼ºå¤§åŠŸèƒ½

// å¯¼å…¥ç‚æœµè‰æ¨¡å—ï¼ˆCMOD + CJMODæ··åˆæ¨¡å—ï¼‰
[Import] @Chtl {
    from: "modules/Chtholly";
    import: [Accordion, CloverAlbum, Memo, WarmNote, SakuraRain, MouseEffect, MouseTrail, ParallaxBg, ContextMenu, ProgressBar];
}

// å¯¼å…¥ç”±æ¯”æ»¨ç»“è¡£æ¨¡å—ï¼ˆçº¯CMODæ¨¡å—ï¼‰
[Import] @Chtl {
    from: "modules/Yuigahama";
    import: [MusicPlayer, YuiAccordion, YuiCloverAlbum, YuiMemo, YuiWarmNote, YuiSakuraRain, YuiMouseEffect];
}

// ä¸»é¡µé¢ç»“æ„
html {
    head {
        meta { charset: "UTF-8"; }
        meta { name: "viewport"; content: "width=device-width, initial-scale=1.0"; }
        title { text: "ç‚æœµè‰ä¸ç”±æ¯”æ»¨ç»“è¡£çš„ç¾å¥½ä¸–ç•Œ"; }
        
        style {
            body {
                margin: 0;
                padding: 20px;
                font-family: 'Microsoft YaHei', sans-serif;
                background: linear-gradient(135deg, #FFF8DC, #FFE4E1);
                min-height: 100vh;
            }
            
            .main-container {
                max-width: 1200px;
                margin: 0 auto;
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 30px;
                padding: 20px;
            }
            
            .section-header {
                text-align: center;
                font-size: 24px;
                font-weight: bold;
                margin: 30px 0;
                color: #FF69B4;
                text-shadow: 2px 2px 4px rgba(255,255,255,0.8);
            }
            
            .chtholly-section {
                background: linear-gradient(135deg, #FFB6C1, #FFC0CB);
                border-radius: 20px;
                padding: 25px;
                box-shadow: 0 12px 24px rgba(255, 182, 193, 0.3);
            }
            
            .yuigahama-section {
                background: linear-gradient(135deg, #FFE4E1, #FFF0F5);
                border-radius: 20px;
                padding: 25px;
                box-shadow: 0 12px 24px rgba(255, 228, 225, 0.3);
            }
        }
    }
    
    body {
        // ç‚æœµè‰çš„æ¨±èŠ±é›¨èƒŒæ™¯ç‰¹æ•ˆ
        @Element SakuraRain;
        
        // ç‚æœµè‰çš„é¼ æ ‡ç‰¹æ•ˆ
        @Element MouseEffect;
        
        // ç‚æœµè‰çš„é¼ æ ‡æ‹–å°¾
        @Element MouseTrail;
        
        // ç‚æœµè‰çš„å³é”®èœå•
        @Element ContextMenu;
        
        div {
            class: "section-header";
            text: "ğŸŒ¸ ç‚æœµè‰ä¸ç”±æ¯”æ»¨ç»“è¡£çš„ç¾å¥½ä¸–ç•Œ â™¡";
        }
        
        div {
            class: "main-container";
            
            // ç‚æœµè‰åŒºåŸŸ
            div {
                class: "chtholly-section";
                
                h2 { text: "â€ ç‚æœµè‰çš„ä¸–ç•Œ - ä¸–ç•Œä¸Šæœ€å¹¸ç¦çš„å¥³å­©"; }
                
                // ç‚æœµè‰çš„æ‰‹é£ç´
                @Element Accordion {
                    title: "ç‚æœµè‰çš„å›å¿†å½•";
                    content: "åœ¨68å·æµ®æ¸¸å²›ä¸Šï¼Œæœ‰ä¸€ä¸ªä¸–ç•Œä¸Šæœ€å¹¸ç¦çš„å¥³å­©ã€‚å¥¹æœ‰ç€é‡‘è‰²çš„å¤´å‘ï¼Œç¿ ç»¿çš„çœ¼ç³ï¼Œè¿˜æœ‰æœ€æ¸©æš–çš„ç¬‘å®¹ã€‚å¥¹å°±æ˜¯ç‚æœµè‰Â·è¯ºå¡”Â·å¡å°¼æ¬§é‡Œæ–¯ï¼Œä¸€ä¸ªä¸ºäº†ä¿æŠ¤é‡è¦çš„äººè€Œæˆ˜æ–—çš„å¦–ç²¾å…µã€‚";
                }
                
                // ç‚æœµè‰çš„å¤‡å¿˜å½•
                @Element Memo;
                
                // ç‚æœµè‰çš„æš–è‰²ç¬”è®°
                @Element WarmNote;
                
                // ç‚æœµè‰çš„å››å¶çª—ç›¸å†Œ
                @Element CloverAlbum {
                    image1: "images/chtholly_smile.jpg";
                    image2: "images/chtholly_battle.jpg";
                    image3: "images/chtholly_william.jpg";
                    image4: "images/chtholly_happy.jpg";
                }
                
                // ç‚æœµè‰çš„è¿›åº¦æ¡ï¼ˆå¹¸ç¦åº¦ï¼‰
                @Element ProgressBar {
                    label: "ç‚æœµè‰çš„å¹¸ç¦åº¦";
                    progress: "100";
                }
            }
            
            // ç”±æ¯”æ»¨ç»“è¡£åŒºåŸŸ
            div {
                class: "yuigahama-section";
                
                h2 { text: "â™¡ ç”±æ¯”æ»¨ç»“è¡£çš„ä¸–ç•Œ - æ¸©æŸ”å¯çˆ±çš„å¥³å­©"; }
                
                // ç”±æ¯”æ»¨çš„éŸ³ä¹æ’­æ”¾å™¨
                @Element MusicPlayer {
                    songTitle: "é’æ˜¥çš„æ—‹å¾‹";
                    songArtist: "ç”±æ¯”æ»¨ç»“è¡£";
                    albumArt: "images/yui_album.jpg";
                }
                
                // ç”±æ¯”æ»¨çš„æ‰‹é£ç´
                @Element YuiAccordion {
                    title: "ç”±æ¯”æ»¨çš„æ—¥å¸¸";
                    content: "ç”±æ¯”æ»¨ç»“è¡£æ˜¯ä¸€ä¸ªæ¸©æŸ”å–„è‰¯çš„å¥³å­©ï¼Œå¥¹æ€»æ˜¯ä¸ºæœ‹å‹ç€æƒ³ï¼Œç”¨è‡ªå·±çš„æ–¹å¼å…³å¿ƒç€èº«è¾¹çš„æ¯ä¸€ä¸ªäººã€‚å¥¹çš„ç¬‘å®¹å¦‚æ˜¥é£èˆ¬æ¸©æš–ï¼Œç»™äººå¸¦æ¥æ— å°½çš„æ²»æ„ˆã€‚";
                }
                
                // ç”±æ¯”æ»¨çš„å¤‡å¿˜å½•
                @Element YuiMemo;
                
                // ç”±æ¯”æ»¨çš„æ¨±èŠ±é›¨ï¼ˆæ¸©æŸ”ç‰ˆæœ¬ï¼‰
                @Element YuiSakuraRain;
            }
        }
        
        // CHTL JSè„šæœ¬åŒºåŸŸ - ä½¿ç”¨CJMODæ‰©å±•åŠŸèƒ½
        script {
            // ç‚æœµè‰çš„å›¾ç‰‡è½¬å­—ç¬¦è‰ºæœ¯åŠŸèƒ½
            console.log("=== ç‚æœµè‰çš„è‰ºæœ¯åˆ›ä½œ ===");
            
            const chthollyAsciiArt = printMylove({
                url: "images/chtholly_portrait.jpg",
                mode: "ASCII",
                width: 80,
                height: 60,
                scale: 1.0
            });
            
            const chthollyPixelArt = printMylove({
                url: "images/chtholly_cute.jpg",
                mode: "Pixel",
                width: 60,
                height: 40,
                scale: 1.2
            });
            
            // ç‚æœµè‰çš„è™šå¯¹è±¡è®°å¿†ç³»ç»Ÿï¼ˆiNeverAwayåŠŸèƒ½ï¼‰
            console.log("=== ç‚æœµè‰çš„è®°å¿†ç³»ç»Ÿ ===");
            
            vir ChthollyHeart = iNeverAway({
                Void<Love>: function(target, intensity) {
                    console.log(`ç‚æœµè‰å¯¹${target}çš„çˆ±æ„å¼ºåº¦: ${intensity}`);
                    return `ç‚æœµè‰æ·±æ·±åœ°çˆ±ç€${target}`;
                },
                
                Void<Memory>: function(event, emotion) {
                    console.log(`ç‚æœµè‰è®°ä½äº†äº‹ä»¶: ${event}, æƒ…æ„Ÿ: ${emotion}`);
                    return `ç‚æœµè‰å°†${event}æ°¸è¿œè®°åœ¨å¿ƒä¸­`;
                },
                
                Void<Battle>: function(enemy, weapon) {
                    console.log(`ç‚æœµè‰ä½¿ç”¨${weapon}å¯¹æŠ—${enemy}`);
                    return `ç‚æœµè‰ä¸ºäº†ä¿æŠ¤é‡è¦çš„äººè€Œæˆ˜æ–—`;
                },
                
                Void: {
                    defaultState: "å¹³é™è€Œå¹¸ç¦çš„ç‚æœµè‰",
                    location: "68å·æµ®æ¸¸å²›",
                    motto: "ä¸–ç•Œä¸Šæœ€å¹¸ç¦çš„å¥³å­©"
                },
                
                Smile: function() {
                    return "ç‚æœµè‰éœ²å‡ºäº†ä¸–ç•Œä¸Šæœ€ç¾çš„ç¬‘å®¹ â€";
                },
                
                Protect: function(target) {
                    return `ç‚æœµè‰å®ˆæŠ¤ç€${target}`;
                }
            });
            
            // ä½¿ç”¨ç‚æœµè‰çš„è®°å¿†ç³»ç»Ÿ
            ChthollyHeart->Void<Love>("å¨å»‰", "æ— é™");
            ChthollyHeart->Void<Memory>("åˆæ¬¡ç›¸é‡", "æ¸©æš–");
            ChthollyHeart->Void<Battle>("å…½", "æ£®ç²¾ç§åœ£å‰‘");
            ChthollyHeart->Smile();
            ChthollyHeart->Protect("æ‰€æœ‰é‡è¦çš„äºº");
            
            // ç”±æ¯”æ»¨ç»“è¡£çš„æ¸©æŸ”ç³»ç»Ÿ
            console.log("=== ç”±æ¯”æ»¨ç»“è¡£çš„æ¸©æŸ”æ—¶å…‰ ===");
            
            vir YuigahamaHeart = iNeverAway({
                Void<Kindness>: function(action, target) {
                    console.log(`ç”±æ¯”æ»¨å¯¹${target}åšäº†å–„æ„çš„è¡Œä¸º: ${action}`);
                    return `ç”±æ¯”æ»¨çš„æ¸©æŸ”æ„ŸåŒ–äº†${target}`;
                },
                
                Void<Friendship>: function(friend, activity) {
                    console.log(`ç”±æ¯”æ»¨å’Œ${friend}ä¸€èµ·${activity}`);
                    return `ç”±æ¯”æ»¨å’Œæœ‹å‹ä»¬åº¦è¿‡äº†ç¾å¥½çš„æ—¶å…‰`;
                },
                
                Void: {
                    defaultState: "æ¸©æŸ”å–„è‰¯çš„ç”±æ¯”æ»¨",
                    hobby: "çƒ˜ç„™é¥¼å¹²",
                    dream: "è®©å¤§å®¶éƒ½å¼€å¿ƒ"
                },
                
                Care: function(person) {
                    return `ç”±æ¯”æ»¨æ¸©æŸ”åœ°å…³å¿ƒç€${person}`;
                },
                
                Encourage: function(person) {
                    return `ç”±æ¯”æ»¨é¼“åŠ±${person}ï¼šä¸€èµ·åŠ æ²¹å§ï¼`;
                }
            });
            
            // ä½¿ç”¨ç”±æ¯”æ»¨çš„æ¸©æŸ”ç³»ç»Ÿ
            YuigahamaHeart->Void<Kindness>("åˆ¶ä½œé¥¼å¹²", "æœ‹å‹ä»¬");
            YuigahamaHeart->Void<Friendship>("é›ªä¹ƒ", "å­¦ä¹ ");
            YuigahamaHeart->Care("å…«å¹¡");
            YuigahamaHeart->Encourage("æ‰€æœ‰äºº");
            
            // ç‚æœµè‰ä¸ç”±æ¯”æ»¨çš„äº’åŠ¨
            console.log("=== ç‚æœµè‰ä¸ç”±æ¯”æ»¨çš„ç¾å¥½ç›¸é‡ ===");
            
            vir FriendshipBridge = iNeverAway({
                Void<Meeting>: function(place, time) {
                    console.log(`ç‚æœµè‰å’Œç”±æ¯”æ»¨åœ¨${place}çš„${time}ç›¸é‡äº†`);
                    return "ä¸¤ä¸ªç¾å¥½çš„å¥³å­©æˆä¸ºäº†æœ‹å‹";
                },
                
                Void<Sharing>: function(topic) {
                    console.log(`å¥¹ä»¬åˆ†äº«ç€å…³äº${topic}çš„è¯é¢˜`);
                    return "å‹è°Šåœ¨äº¤æµä¸­åŠ æ·±";
                },
                
                Void: {
                    bond: "è·¨è¶Šä¸–ç•Œçš„å‹è°Š",
                    promise: "æ°¸è¿œçš„æœ‹å‹"
                }
            });
            
            // ç‚æœµè‰ä¸ç”±æ¯”æ»¨çš„å‹è°Š
            FriendshipBridge->Void<Meeting>("æ¨±èŠ±æ ‘ä¸‹", "æ˜¥æ—¥åˆå");
            FriendshipBridge->Void<Sharing>("å¹¸ç¦çš„æ„ä¹‰");
            
            // åˆå§‹åŒ–é¡µé¢äº¤äº’
            document.addEventListener('DOMContentLoaded', function() {
                console.log("ç‚æœµè‰ä¸ç”±æ¯”æ»¨ç»“è¡£çš„ä¸–ç•Œå·²å‡†å¤‡å°±ç»ª ğŸŒ¸â™¡");
                
                // æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯
                setTimeout(() => {
                    alert("æ¬¢è¿æ¥åˆ°ç‚æœµè‰ä¸ç”±æ¯”æ»¨ç»“è¡£çš„ç¾å¥½ä¸–ç•Œï¼\n\nç‚æœµè‰: ä¸–ç•Œä¸Šæœ€å¹¸ç¦çš„å¥³å­©å°±æ˜¯æˆ‘ â€\nç”±æ¯”æ»¨: å¤§å®¶ä¸€èµ·åŠ æ²¹å§ â™¡");
                }, 1000);
                
                // å¯åŠ¨èƒŒæ™¯éŸ³ä¹ï¼ˆå¦‚æœæœ‰éŸ³ä¹æ’­æ”¾å™¨ï¼‰
                if (window.yuiPlayer) {
                    setTimeout(() => {
                        window.yuiPlayer.play();
                    }, 2000);
                }
            });
        }
    }
}