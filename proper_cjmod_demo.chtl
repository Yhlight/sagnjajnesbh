// æ­£ç¡®çš„CJMODæ¶æ„æ¼”ç¤º - ä½¿ç”¨CHTLè¯­æ³•
// å±•ç¤ºç»Ÿä¸€æ‰«æå™¨ä¸CJMOD APIçš„å®Œç¾åä½œ

[Import] @CJmod from Chtholly;

html {
    head {
        title {
            text { æ­£ç¡®çš„CJMODæ¶æ„æ¼”ç¤º }
        }
        
        style {
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                margin: 0;
                padding: 20px;
                color: white;
            }
            
            .container {
                max-width: 1200px;
                margin: 0 auto;
                background: rgba(255, 255, 255, 0.1);
                border-radius: 15px;
                padding: 30px;
                backdrop-filter: blur(10px);
            }
            
            .demo-section {
                margin: 30px 0;
                padding: 20px;
                background: rgba(255, 255, 255, 0.05);
                border-radius: 10px;
                border-left: 4px solid #00ff88;
            }
            
            .code-output {
                background: #1a1a1a;
                color: #00ff88;
                padding: 15px;
                border-radius: 8px;
                font-family: 'Courier New', monospace;
                margin: 10px 0;
                overflow-x: auto;
            }
            
            h1, h2 {
                text-align: center;
                text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            }
            
            .architecture-flow {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin: 20px 0;
                flex-wrap: wrap;
            }
            
            .flow-step {
                background: rgba(0, 255, 136, 0.2);
                padding: 10px 15px;
                border-radius: 25px;
                margin: 5px;
                border: 2px solid #00ff88;
                flex: 1;
                text-align: center;
                min-width: 150px;
            }
            
            .arrow {
                font-size: 24px;
                color: #00ff88;
                margin: 0 10px;
            }
        }
    }
    
    body {
        div {
            class: container;
            
            h1 {
                text { ğŸ—ï¸ CHTLæ­£ç¡®æ¶æ„æ¼”ç¤º }
            }
            
            p {
                style: text-align: center; font-size: 18px;
                text { å±•ç¤ºç»Ÿä¸€æ‰«æå™¨ä¸CJMOD APIçš„å®Œç¾åä½œ }
            }
            
            div {
                class: architecture-flow;
                
                div {
                    class: flow-step;
                    text { ğŸ“„ CHTLæºä»£ç  }
                }
                
                div {
                    class: arrow;
                    text { â†’ }
                }
                
                div {
                    class: flow-step;
                    text { ğŸ” ç»Ÿä¸€æ‰«æå™¨ }
                }
                
                div {
                    class: arrow;
                    text { â†’ }
                }
                
                div {
                    class: flow-step;
                    text { ğŸ“¦ CodeFragment }
                }
                
                div {
                    class: arrow;
                    text { â†’ }
                }
                
                div {
                    class: flow-step;
                    text { âš™ï¸ CJMOD API }
                }
                
                div {
                    class: arrow;
                    text { â†’ }
                }
                
                div {
                    class: flow-step;
                    text { ğŸ“œ æ ‡å‡†JS }
                }
            }
            
            div {
                class: demo-section;
                
                h2 {
                    text { ğŸ¯ CJMODæ‰©å±•æ¼”ç¤º }
                }
                
                p {
                    text { ä»¥ä¸‹CHTL JSä»£ç å°†è¢«ç»Ÿä¸€æ‰«æå™¨è¯†åˆ«å¹¶äº¤ç»™CJMOD APIå¤„ç†ï¼š }
                }
                
                script {
                    // ============ printMyloveæ¼”ç¤º ============
                    console.log("=== printMyloveæ¼”ç¤º ===");
                    
                    const loveImage = printMylove({
                        url: "https://example.com/chtholly.jpg",
                        mode: "ASCII",
                        width: "400px",
                        height: "300px",
                        scale: 0.8
                    });
                    
                    console.log("printMyloveå¤„ç†å®Œæˆ");
                    
                    // ============ è™šå¯¹è±¡æ¼”ç¤º ============
                    console.log("=== è™šå¯¹è±¡æ¼”ç¤º ===");
                    
                    vir eventHandler = listen({
                        click: function(element) {
                            console.log("ç‚¹å‡»äº‹ä»¶è§¦å‘:", element);
                            element.style.background = "#ff6b6b";
                        },
                        
                        hover: function(element) {
                            console.log("æ‚¬åœäº‹ä»¶è§¦å‘:", element);
                            element.style.transform = "scale(1.05)";
                        },
                        
                        leave: function(element) {
                            console.log("ç¦»å¼€äº‹ä»¶è§¦å‘:", element);
                            element.style.transform = "scale(1.0)";
                        }
                    });
                    
                    // è™šå¯¹è±¡è°ƒç”¨ - è¿™äº›ä¼šè¢«CJMODå§”æ‰˜ç»™CHTL JSå¤„ç†
                    eventHandler->click(document.querySelector('.demo-section'));
                    
                    // ============ iNeverAwayæ¼”ç¤º ============
                    console.log("=== iNeverAwayæ¼”ç¤º ===");
                    
                    vir stateManager = iNeverAway({
                        Void<Active>: function(elementId, state) {
                            console.log("æ¿€æ´»çŠ¶æ€:", elementId, state);
                            document.getElementById(elementId).classList.add('active');
                        },
                        
                        Void<Inactive>: function(elementId, state) {
                            console.log("éæ¿€æ´»çŠ¶æ€:", elementId, state);
                            document.getElementById(elementId).classList.remove('active');
                        },
                        
                        Void: {
                            reset: function() {
                                console.log("é‡ç½®æ‰€æœ‰çŠ¶æ€");
                            }
                        }
                    });
                    
                    // çŠ¶æ€ç®¡ç†è°ƒç”¨
                    stateManager->Active("demo-container", true);
                    
                    // ============ æ™®é€šJavaScriptä»£ç  ============
                    console.log("=== æ™®é€šJavaScriptä»£ç  ===");
                    
                    // è¿™äº›æ˜¯æ™®é€šJSï¼Œä¸ä¼šè¢«CJMODå¤„ç†
                    function normalFunction() {
                        return "è¿™æ˜¯æ™®é€šçš„JavaScriptå‡½æ•°";
                    }
                    
                    const normalVariable = "æ™®é€šå˜é‡";
                    
                    // äº‹ä»¶ç»‘å®š
                    document.addEventListener('DOMContentLoaded', function() {
                        console.log("é¡µé¢åŠ è½½å®Œæˆ");
                        
                        // å±•ç¤ºæ¶æ„ä¼˜åŠ¿
                        displayArchitectureInfo();
                    });
                    
                    function displayArchitectureInfo() {
                        const output = document.createElement('div');
                        output.className = 'code-output';
                        output.innerHTML = `
                            <h3>ğŸ† CHTLæ¶æ„ä¼˜åŠ¿</h3>
                            <p>âœ… ç»Ÿä¸€æ‰«æå™¨ï¼šä¸“æ³¨ä»£ç ç‰‡æ®µåˆ‡å‰²ï¼Œä¸åšè¯æ³•åˆ†æ</p>
                            <p>âœ… CJMOD APIï¼šæ¥æ”¶CodeFragmentï¼Œä½¿ç”¨peekKeywordæå–å‚æ•°</p>
                            <p>âœ… èŒè´£åˆ†ç¦»ï¼šå„ç»„ä»¶ä¸“æ³¨æ ¸å¿ƒåŠŸèƒ½ï¼Œé¿å…é‡å¤å®ç°</p>
                            <p>âœ… å®Œç¾åä½œï¼šåˆ©ç”¨ç°æœ‰ä¼˜ç§€æ¶æ„ï¼Œä¸é‡æ–°å‘æ˜è½®å­</p>
                            
                            <h3>ğŸš€ å¤„ç†æµç¨‹</h3>
                            <p>1. ç»Ÿä¸€æ‰«æå™¨è¯†åˆ«CHTL JSè¯­æ³•ï¼ˆprintMylove, vir, listenç­‰ï¼‰</p>
                            <p>2. åˆ‡å‰²ä¸ºCodeFragmentå¹¶åˆ†ç±»ä¸ºCHTL_JSç±»å‹</p>
                            <p>3. CJMOD APIæ¥æ”¶Fragmentï¼Œä½¿ç”¨peekKeywordæå–å‚æ•°</p>
                            <p>4. ç”Ÿæˆæ ‡å‡†JavaScriptä»£ç </p>
                            <p>5. ä¸æ™®é€šJSä»£ç åˆå¹¶è¾“å‡º</p>
                        `;
                        
                        document.body.appendChild(output);
                    }
                }
            }
            
            div {
                class: demo-section;
                
                h2 {
                    text { ğŸ’¡ æ¶æ„è®¾è®¡å“²å­¦ }
                }
                
                div {
                    class: code-output;
                    
                    p {
                        text { ğŸ¯ èŒè´£åˆ†ç¦»ï¼šç»Ÿä¸€æ‰«æå™¨è´Ÿè´£åˆ‡å‰²ï¼ŒCJMODè´Ÿè´£å¤„ç† }
                    }
                    p {
                        text { ğŸ”„ åä½œä¼˜å…ˆï¼šç»„ä»¶é—´å®Œç¾é…åˆï¼Œé¿å…é‡å¤å®ç° }
                    }
                    p {
                        text { âš¡ æ•ˆç‡è‡³ä¸Šï¼šåˆ©ç”¨ç°æœ‰ä¼˜ç§€æ¶æ„ï¼Œä¸é‡æ–°å‘æ˜è½®å­ }
                    }
                    p {
                        text { ğŸ—ï¸ å¯æ‰©å±•æ€§ï¼šæ–°çš„CJMODæ‰©å±•å¯ä»¥è½»æ¾é›†æˆ }
                    }
                }
            }
            
            div {
                class: demo-section;
                
                h2 {
                    text { ğŸ” ç»Ÿä¸€æ‰«æå™¨å·¥ä½œåŸç† }
                }
                
                div {
                    class: code-output;
                    
                    p {
                        text { ä¸è¿›è¡Œè¯æ³•åˆ†æ - è¿™æ˜¯å…³é”®ç†è§£ï¼ }
                    }
                    p {
                        text { âœ… ä»£ç ç‰‡æ®µåˆ‡å‰²å’Œåˆ†ç±» }
                    }
                    p {
                        text { âœ… çŠ¶æ€æœºé©±åŠ¨çš„æ‰«æï¼ˆGLOBAL, IN_SCRIPT, IN_CHTL_BLOCKç­‰ï¼‰ }
                    }
                    p {
                        text { âœ… åŒæŒ‡é’ˆæ»‘åŠ¨çª—å£æœºåˆ¶ }
                    }
                    p {
                        text { âœ… å…³é”®å­—æ³¨å†Œå’Œè¯†åˆ« }
                    }
                    p {
                        text { âŒ ä¸åštokenåŒ–æˆ–è¯­æ³•åˆ†æ }
                    }
                }
            }
            
            div {
                class: demo-section;
                
                h2 {
                    text { âš™ï¸ CJMOD APIèŒè´£ }
                }
                
                div {
                    class: code-output;
                    
                    p {
                        text { âœ… æ¥æ”¶ç»Ÿä¸€æ‰«æå™¨çš„CodeFragment }
                    }
                    p {
                        text { âœ… ä½¿ç”¨peekKeywordæŠ€æœ¯æå–å‚æ•°å€¼ }
                    }
                    p {
                        text { âœ… åº”ç”¨å‚æ•°å¤„ç†å™¨å’Œè½¬æ¢è§„åˆ™ }
                    }
                    p {
                        text { âœ… ç”Ÿæˆæ ‡å‡†JavaScriptä»£ç  }
                    }
                    p {
                        text { âœ… å§”æ‰˜è™šå¯¹è±¡åŠŸèƒ½ç»™CHTL JS }
                    }
                    p {
                        text { âŒ ä¸é‡æ–°å®ç°æ‰«æå’Œè¯æ³•åˆ†æ }
                    }
                }
            }
        }
        
        script {
            // æ™®é€šJavaScript - é¡µé¢äº¤äº’
            document.addEventListener('DOMContentLoaded', function() {
                // æ·»åŠ äº¤äº’æ•ˆæœ
                const sections = document.querySelectorAll('.demo-section');
                sections.forEach(section => {
                    section.addEventListener('mouseenter', function() {
                        this.style.transform = 'translateY(-5px)';
                        this.style.boxShadow = '0 10px 25px rgba(0,255,136,0.3)';
                    });
                    
                    section.addEventListener('mouseleave', function() {
                        this.style.transform = 'translateY(0)';
                        this.style.boxShadow = 'none';
                    });
                });
                
                // æ˜¾ç¤ºæ¶æ„ä¿¡æ¯
                console.log("ğŸ—ï¸ CHTLæ­£ç¡®æ¶æ„æ¼”ç¤ºé¡µé¢åŠ è½½å®Œæˆ");
                console.log("ç»Ÿä¸€æ‰«æå™¨å°†è¯†åˆ«scriptå—ä¸­çš„CHTL JSè¯­æ³•");
                console.log("CJMOD APIå°†å¤„ç†printMylove, vir, listenç­‰æ‰©å±•è¯­æ³•");
            });
        }
    }
}