// 珂朵莉优雅手风琴组件
// 如樱花般优美的折叠展示组件

[Style]
.chtholly-accordion {
    background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
    border-radius: 12px;
    box-shadow: 0 8px 25px rgba(255, 154, 158, 0.3);
    overflow: hidden;
    margin: 10px 0;
}

.chtholly-accordion-header {
    background: rgba(255, 255, 255, 0.9);
    padding: 15px 20px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border-bottom: 1px solid rgba(255, 107, 157, 0.1);
}

.chtholly-accordion-header:hover {
    background: rgba(255, 107, 157, 0.1);
    transform: translateY(-1px);
}

.chtholly-accordion-content {
    padding: 0 20px;
    max-height: 0;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    background: rgba(255, 255, 255, 0.95);
}

.chtholly-accordion-content.expanded {
    max-height: 500px;
    padding: 20px;
}

.chtholly-accordion-icon {
    float: right;
    transition: transform 0.3s ease;
    color: #ff6b9d;
}

.chtholly-accordion-icon.expanded {
    transform: rotate(180deg);
}

[Component]
{{ChthollyAccordion}}
    {{.chtholly-accordion}}
        {{.chtholly-accordion-header}}
            {{.chtholly-accordion-title}}手风琴标题{{/.chtholly-accordion-title}}
            {{.chtholly-accordion-icon}}▼{{/.chtholly-accordion-icon}}
        {{/.chtholly-accordion-header}}
        
        {{.chtholly-accordion-content}}
            {{.chtholly-accordion-body}}
                <!-- 手风琴内容区域 -->
            {{/.chtholly-accordion-body}}
        {{/.chtholly-accordion-content}}
    {{/.chtholly-accordion}}
{{/ChthollyAccordion}}

[Script]
// 珂朵莉手风琴交互逻辑
function initChthollyAccordion() {
    const accordions = document.querySelectorAll('.chtholly-accordion');
    
    accordions.forEach(accordion => {
        const header = accordion.querySelector('.chtholly-accordion-header');
        const content = accordion.querySelector('.chtholly-accordion-content');
        const icon = accordion.querySelector('.chtholly-accordion-icon');
        
        header.addEventListener('click', () => {
            const isExpanded = content.classList.contains('expanded');
            
            // 优雅的展开/收起动画
            if (isExpanded) {
                content.classList.remove('expanded');
                icon.classList.remove('expanded');
            } else {
                content.classList.add('expanded');
                icon.classList.add('expanded');
            }
        });
    });
    
    console.log('🌸 珂朵莉手风琴组件已初始化');
}